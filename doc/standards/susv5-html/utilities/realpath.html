<!-- Copyright 2001-2024 IEEE and The Open Group, All Rights Reserved -->
<!DOCTYPE HTML>
<html lang="en">
<head>
<meta name="generator" content="HTML Tidy for HTML5 for Linux version 5.8.0">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link type="text/css" rel="stylesheet" href="style.css"><!-- Generated by The Open Group rhtm tool v1.2.4 -->
<!-- Copyright (c) 2001-2024 The Open Group, All Rights Reserved -->
<title>realpath</title>
</head>
<body bgcolor="white">
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../utilities/readlink.html" accesskey="P">&lt;&lt;&lt;
Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../utilities/renice.html" accesskey="N">Next
&gt;&gt;&gt;</a></td>
</tr>
</table>
<hr align="left" width="100%"></div>
<script language="JavaScript" src="../jscript/codes.js"></script><basefont size="3">
<center><font size="2">The Open Group Base Specifications Issue 8<br>
IEEE Std 1003.1-2024<br>
Copyright © 2001-2024 The IEEE and The Open Group</font></center>
<hr size="2" noshade>
<a name="top" id="top"></a> <a name="realpath" id="realpath"></a> <a name="tag_20_102" id="tag_20_102"></a><!-- realpath -->
<h4 class="mansect"><a name="tag_20_102_01" id="tag_20_102_01"></a>NAME</h4>
<blockquote>realpath — resolve a pathname</blockquote>
<h4 class="mansect"><a name="tag_20_102_02" id="tag_20_102_02"></a>SYNOPSIS</h4>
<blockquote class="synopsis">
<p><code><tt>realpath</tt> <b>[</b><tt>-E|-e</tt><b>]</b> <i>file</i></code></p>
</blockquote>
<h4 class="mansect"><a name="tag_20_102_03" id="tag_20_102_03"></a>DESCRIPTION</h4>
<blockquote>
<p>The <i>realpath</i> utility shall canonicalize the pathname specified by the <i>file</i> operand as follows:</p>
<p>If a call to the <a href="../functions/realpath.html"><i>realpath</i>()</a> function with the specified pathname as its first
argument would succeed, the canonicalized pathname shall be the pathname that would be returned by that <a href=
"../functions/realpath.html"><i>realpath</i>()</a> call. Otherwise:</p>
<ul>
<li>
<p>If the <b>-e</b> option is specified, the canonicalization shall fail.</p>
</li>
<li>
<p>If the <b>-E</b> option is specified, then if a call to the <a href="../functions/realpath.html"><i>realpath</i>()</a> function
with the specified pathname as its first argument would encounter an error condition other than [ENOENT], the canonicalization
shall fail; if the call would encounter an [ENOENT] error, <i>realpath</i> shall expand all symbolic links that would be
encountered in an attempt to resolve the specified pathname using the algorithm specified in XBD <a href=
"../basedefs/V1_chap04.html#tag_04_16"><i>4.16 Pathname Resolution</i></a>, except that any trailing &lt;slash&gt; characters that
are not also leading &lt;slash&gt; characters shall be ignored. If this expansion succeeds and the path prefix of the expanded
pathname resolves to an existing directory, the canonicalized pathname shall be the expanded pathname. In all other cases, the
canonicalization shall fail. If the expanded pathname is not empty, does not begin with a &lt;slash&gt;, and has exactly one
pathname component, it shall be treated as if it had a path prefix of <tt>"./"</tt>.</p>
</li>
<li>
<p>If no options are specified, <i>realpath</i> shall canonicalize the specified pathname in an unspecified manner such that the
resulting absolute pathname does not contain any components that refer to files of type symbolic link and does not contain any
components that are dot or dot-dot.</p>
</li>
</ul>
<p>Upon successful canonicalization, <i>realpath</i> shall write the canonicalized pathname, followed by a &lt;newline&gt;
character, to standard output.</p>
<p>If canonicalization fails, or the canonicalized pathname is empty, nothing shall be written to standard output, a diagnostic
message shall be written to standard error, and <i>realpath</i> shall exit with non-zero status.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_102_04" id="tag_20_102_04"></a>OPTIONS</h4>
<blockquote>
<p>The <i>realpath</i> utility shall conform to XBD <a href="../basedefs/V1_chap12.html#tag_12_02"><i>12.2 Utility Syntax
Guidelines</i></a>.</p>
<p>The following options shall be supported:</p>
<dl compact>
<dd></dd>
<dt><b>-E</b></dt>
<dd>Do not treat it as an error if attempting to resolve the last component of the canonicalized form of the <i>file</i> operand
results in an [ENOENT] error condition.</dd>
<dt><b>-e</b></dt>
<dd>Treat it as an error if attempting to resolve the last component of the canonicalized form of the <i>file</i> operand results
in an [ENOENT] error condition.</dd>
</dl>
<p>Specifying more than one of the mutually-exclusive options <b>-E</b> and <b>-e</b> shall not be considered an error. The last
option specified shall determine the behavior of the utility.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_102_05" id="tag_20_102_05"></a>OPERANDS</h4>
<blockquote>
<p>The following operand shall be supported:</p>
<dl compact>
<dd></dd>
<dt><i>file</i></dt>
<dd>A pathname to be canonicalized.</dd>
</dl>
</blockquote>
<h4 class="mansect"><a name="tag_20_102_06" id="tag_20_102_06"></a>STDIN</h4>
<blockquote>
<p>Not used.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_102_07" id="tag_20_102_07"></a>INPUT FILES</h4>
<blockquote>
<p>None.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_102_08" id="tag_20_102_08"></a>ENVIRONMENT VARIABLES</h4>
<blockquote>
<p>The following environment variables shall affect the execution of <i>realpath</i>:</p>
<dl compact>
<dd></dd>
<dt><i>LANG</i></dt>
<dd>Provide a default value for the internationalization variables that are unset or null. (See XBD <a href=
"../basedefs/V1_chap08.html#tag_08_02"><i>8.2 Internationalization Variables</i></a> for the precedence of internationalization
variables used to determine the values of locale categories.)</dd>
<dt><i>LC_ALL</i></dt>
<dd>If set to a non-empty string value, override the values of all the other internationalization variables.</dd>
<dt><i>LC_CTYPE</i></dt>
<dd>Determine the locale for the interpretation of sequences of bytes of text data as characters (for example, single-byte as
opposed to multi-byte characters in arguments and input files).</dd>
<dt><i>LC_MESSAGES</i></dt>
<dd><br>
Determine the locale that should be used to affect the format and contents of diagnostic messages written to standard error.</dd>
<dt><i>NLSPATH</i></dt>
<dd><sup>[<a href="javascript:open_code('XSI')">XSI</a>]</sup> <img src="../images/opt-start.gif" alt="[Option Start]" border="0">
Determine the location of messages objects and message catalogs. <img src="../images/opt-end.gif" alt="[Option End]" border=
"0"></dd>
</dl>
</blockquote>
<h4 class="mansect"><a name="tag_20_102_09" id="tag_20_102_09"></a>ASYNCHRONOUS EVENTS</h4>
<blockquote>
<p>Default.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_102_10" id="tag_20_102_10"></a>STDOUT</h4>
<blockquote>
<p>See DESCRIPTION.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_102_11" id="tag_20_102_11"></a>STDERR</h4>
<blockquote>
<p>The standard error shall be used only for diagnostic messages.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_102_12" id="tag_20_102_12"></a>OUTPUT FILES</h4>
<blockquote>
<p>None.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_102_13" id="tag_20_102_13"></a>EXTENDED DESCRIPTION</h4>
<blockquote>
<p>None.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_102_14" id="tag_20_102_14"></a>EXIT STATUS</h4>
<blockquote>
<p>The following exit values shall be returned:</p>
<dl compact>
<dd></dd>
<dt>&nbsp;0</dt>
<dd>Successful completion.</dd>
<dt>&gt;0</dt>
<dd>An error occurred.</dd>
</dl>
</blockquote>
<h4 class="mansect"><a name="tag_20_102_15" id="tag_20_102_15"></a>CONSEQUENCES OF ERRORS</h4>
<blockquote>
<p>Default.</p>
</blockquote>
<hr>
<div class="box"><em>The following sections are informative.</em></div>
<h4 class="mansect"><a name="tag_20_102_16" id="tag_20_102_16"></a>APPLICATION USAGE</h4>
<blockquote>
<p>If neither the <b>-e</b> nor the <b>-E</b> option is specified, some implementations behave as if <b>-e</b> had been specified
and others as if <b>-E</b> had been specified, but there are also implementations where the behavior differs from both of these.
For example, the <i>mksh</i> shell has an internal implementation of <i>realpath</i> that canonicalizes <b>/dir/regular_file/..</b>
to <b>/dir</b>, whereas the <a href="../functions/realpath.html"><i>realpath</i>()</a> function would return an [ENOTDIR] error in
this case. Portable applications should always specify either <b>-e</b> or <b>-E</b>.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_102_17" id="tag_20_102_17"></a>EXAMPLES</h4>
<blockquote>
<p>None.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_102_18" id="tag_20_102_18"></a>RATIONALE</h4>
<blockquote>
<p>The <i>realpath</i> utility was added in preference to a <b>-f</b> option found in some implementations of the <a href=
"../utilities/readlink.html"><i>readlink</i></a> utility because it allows the application to specify whether or not a missing
final component is to be treated as an error.</p>
<p>The behavior with the <b>-E</b> option when <i>file</i> does not resolve (with symbolic links followed) to an existing file is
not the same as simply calling <a href="../functions/realpath.html"><i>realpath</i>()</a> with the path prefix of the <i>file</i>
operand and writing the resulting pathname, a &lt;slash&gt;, and the last component of <i>file</i> to standard output. For example,
if <b>/tmp/nofile</b> does not exist, and <i>file</i> is <b>A/B</b> where <b>A</b> is an existing directory and <b>B</b> is a
symbolic link to <b>/tmp/nofile</b>, <i>realpath</i> with <b>-E</b> will output <b>/tmp/nofile</b>, but if <b>B</b> is a symbolic
link to <b>/tmp/nofile/foo</b>, <i>realpath</i> with <b>-E</b> will treat this as an error. In both cases <tt>realpath("A/B")</tt>
would fail with <i>errno</i> set to [ENOENT]. Even though <tt>realpath("A")</tt> would succeed, in neither case is anything ending
<b>/B</b> the result.</p>
<p>Trailing &lt;slash&gt; characters (that follow a non-&lt;slash&gt;) are handled differently with <b>-E</b> than with <b>-e</b>.
With <b>-e</b> they are handled as for the <a href="../functions/realpath.html"><i>realpath</i>()</a> function. With <b>-E</b> they
are sometimes effectively ignored, and they are never included in the output. For example, if <b>/tmp/nofile</b> does not exist and
<b>/tmp/regfile</b> is an existing regular file:</p>
<pre>
<tt>$ realpath -E /tmp/nofile/
/tmp/nofile
$ realpath -E /tmp/regfile/
realpath: /tmp/regfile/: Not a directory
</tt></pre></blockquote>
<h4 class="mansect"><a name="tag_20_102_19" id="tag_20_102_19"></a>FUTURE DIRECTIONS</h4>
<blockquote>
<p>If this utility is directed to display a pathname that contains any bytes that have the encoded value of a &lt;newline&gt;
character when &lt;newline&gt; is a terminator or separator in the output format being used, implementations are encouraged to
treat this as an error. A future version of this standard may require implementations to treat this as an error.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_102_20" id="tag_20_102_20"></a>SEE ALSO</h4>
<blockquote>
<p><a href="../utilities/ln.html#"><i>ln</i></a>, <a href="../utilities/ls.html#"><i>ls</i></a>, <a href=
"../utilities/pwd.html#"><i>pwd</i></a>, <a href="../utilities/readlink.html#tag_20_101"><i>readlink</i></a></p>
<p>XBD <a href="../basedefs/V1_chap08.html#tag_08"><i>8. Environment Variables</i></a>, <a href=
"../basedefs/V1_chap12.html#tag_12_02"><i>12.2 Utility Syntax Guidelines</i></a></p>
<p>XSH <a href="../functions/V2_chap02.html#tag_16_03"><i>2.3 Error Numbers</i></a>, <a href=
"../functions/realpath.html#"><i>realpath</i>()</a></p>
</blockquote>
<h4 class="mansect"><a name="tag_20_102_21" id="tag_20_102_21"></a>CHANGE HISTORY</h4>
<blockquote>
<p>First released in Issue 8.</p>
</blockquote>
<div class="box"><em>End of informative text.</em></div>
<hr>
<p>&nbsp;</p>
<a href="#top"><span class="topOfPage">return to top of page</span></a><br>
<hr size="2" noshade>
<center><font size="2">UNIX® is a registered Trademark of The Open Group.<br>
POSIX™ is a Trademark of The IEEE.<br>
Copyright © 2001-2024 The IEEE and The Open Group, All Rights Reserved<br>
[ <a href="../mindex.html">Main Index</a> | <a href="../basedefs/contents.html">XBD</a> | <a href=
"../functions/contents.html">XSH</a> | <a href="../utilities/contents.html">XCU</a> | <a href="../xrat/contents.html">XRAT</a>
]</font></center>
<hr size="2" noshade>
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../utilities/readlink.html" accesskey="P">&lt;&lt;&lt;
Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../utilities/renice.html" accesskey="N">Next
&gt;&gt;&gt;</a></td>
</tr>
</table>
<hr align="left" width="100%"></div>
</body>
</html>
