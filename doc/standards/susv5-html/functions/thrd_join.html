<!-- Copyright 2001-2024 IEEE and The Open Group, All Rights Reserved -->
<!DOCTYPE HTML>
<html lang="en">
<head>
<meta name="generator" content="HTML Tidy for HTML5 for Linux version 5.8.0">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link type="text/css" rel="stylesheet" href="style.css"><!-- Generated by The Open Group rhtm tool v1.2.4 -->
<!-- Copyright (c) 2001-2024 The Open Group, All Rights Reserved -->
<title>thrd_join</title>
</head>
<body bgcolor="white">
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../functions/thrd_exit.html" accesskey="P">&lt;&lt;&lt;
Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../functions/thrd_sleep.html" accesskey="N">Next
&gt;&gt;&gt;</a></td>
</tr>
</table>
<hr align="left" width="100%"></div>
<script language="JavaScript" src="../jscript/codes.js"></script><basefont size="3">
<center><font size="2">The Open Group Base Specifications Issue 8<br>
IEEE Std 1003.1-2024<br>
Copyright © 2001-2024 The IEEE and The Open Group</font></center>
<hr size="2" noshade>
<a name="top" id="top"></a> <a name="thrd_join" id="thrd_join"></a> <a name="tag_17_622" id="tag_17_622"></a><!-- thrd_join -->
<h4 class="mansect"><a name="tag_17_622_01" id="tag_17_622_01"></a>NAME</h4>
<blockquote>thrd_join — wait for thread termination</blockquote>
<h4 class="mansect"><a name="tag_17_622_02" id="tag_17_622_02"></a>SYNOPSIS</h4>
<blockquote class="synopsis">
<p><code><tt>#include &lt;<a href="../basedefs/threads.h.html">threads.h</a>&gt;<br>
<br>
int thrd_join(thrd_t</tt> <i>thr</i><tt>, int *</tt><i>res</i><tt>);<br></tt></code></p>
</blockquote>
<h4 class="mansect"><a name="tag_17_622_03" id="tag_17_622_03"></a>DESCRIPTION</h4>
<blockquote>
<div class="box"><sup>[<a href="javascript:open_code('CX')">CX</a>]</sup> <img src="../images/opt-start.gif" alt="[Option Start]"
border="0"> The functionality described on this reference page is aligned with the ISO&nbsp;C standard. Any conflict between the
requirements described here and the ISO&nbsp;C standard is unintentional. This volume of POSIX.1-2024 defers to the ISO&nbsp;C
standard. <img src="../images/opt-end.gif" alt="[Option End]" border="0"></div>
<p>The <i>thrd_join</i>() function shall join the thread identified by <i>thr</i> with the current thread by blocking until the
other thread has terminated. If the parameter <i>res</i> is not a null pointer, <i>thrd_join</i>() shall store the thread's exit
status in the integer pointed to by <i>res</i>. The termination of the other thread shall synchronize with the completion of the
<i>thrd_join</i>() function. The application shall ensure that the thread identified by <i>thr</i> has not been previously detached
or joined with another thread.</p>
<p>The results of multiple simultaneous calls to <i>thrd_join</i>() specifying the same target thread are undefined.</p>
<p>The behavior is undefined if the value specified by the <i>thr</i> argument to <i>thrd_join</i>() refers to the calling
thread.</p>
<p><sup>[<a href="javascript:open_code('CX')">CX</a>]</sup> <img src="../images/opt-start.gif" alt="[Option Start]" border="0"> It
is unspecified whether a zombie thread counts against {PTHREAD_THREADS_MAX}.</p>
<p>If <i>thr</i> refers to a thread that was created using <a href="../functions/pthread_create.html"><i>pthread_create</i>()</a>
or via a SIGEV_THREAD notification and the thread terminates, or has already terminated, by returning from its start routine, the
behavior of <i>thrd_join</i>() is undefined. If <i>thr</i> refers to a thread that terminates, or has already terminated, by
calling <a href="../functions/pthread_exit.html"><i>pthread_exit</i>()</a> or by being cancelled, the behavior of
<i>thrd_join</i>() is undefined.</p>
<p>The <i>thrd_join</i>() function shall not be affected if the calling thread executes a signal handler during the call. <img src=
"../images/opt-end.gif" alt="[Option End]" border="0"></p>
</blockquote>
<h4 class="mansect"><a name="tag_17_622_04" id="tag_17_622_04"></a>RETURN VALUE</h4>
<blockquote>
<p>The <i>thrd_join</i>() function shall return <tt>thrd_success</tt> on success or <tt>thrd_error</tt> if the request could not be
honored.</p>
<p><sup>[<a href="javascript:open_code('CX')">CX</a>]</sup> <img src="../images/opt-start.gif" alt="[Option Start]" border="0"> It
is implementation-defined whether <i>thrd_join</i>() detects deadlock situations; if it does detect them, it shall return
<tt>thrd_error</tt> when one is detected. <img src="../images/opt-end.gif" alt="[Option End]" border="0"></p>
</blockquote>
<h4 class="mansect"><a name="tag_17_622_05" id="tag_17_622_05"></a>ERRORS</h4>
<blockquote>
<p>See RETURN VALUE.</p>
</blockquote>
<hr>
<div class="box"><em>The following sections are informative.</em></div>
<h4 class="mansect"><a name="tag_17_622_06" id="tag_17_622_06"></a>EXAMPLES</h4>
<blockquote>
<p>None.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_622_07" id="tag_17_622_07"></a>APPLICATION USAGE</h4>
<blockquote>
<p>None.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_622_08" id="tag_17_622_08"></a>RATIONALE</h4>
<blockquote>
<p>The <i>thrd_join</i>() function provides a simple mechanism allowing an application to wait for a thread to terminate. After the
thread terminates, the application may then choose to clean up resources that were used by the thread. For instance, after
<i>thrd_join</i>() returns, any application-provided stack storage could be reclaimed.</p>
<p>The <i>thrd_join</i>() or <a href="../functions/thrd_detach.html"><i>thrd_detach</i>()</a> function should eventually be called
for every thread that is created using <a href="../functions/thrd_create.html"><i>thrd_create</i>()</a> so that storage associated
with the thread may be reclaimed.</p>
<p>The <i>thrd_join</i>() function cannot be used to obtain the exit status of a thread that was created using <a href=
"../functions/pthread_create.html"><i>pthread_create</i>()</a> or via a SIGEV_THREAD notification and which terminates by returning
from its start routine, or of a thread that terminates by calling <a href=
"../functions/pthread_exit.html"><i>pthread_exit</i>()</a>, because such threads have a <b>void *</b> exit status, instead of the
<b>int</b> that <i>thrd_join</i>() returns via its <i>res</i> argument.</p>
<p>The <i>thrd_join</i>() function cannot be used to obtain the exit status of a thread that terminates by being cancelled because
it has no way to indicate that a thread was cancelled. (The <a href="../functions/pthread_join.html"><i>pthread_join</i>()</a>
function does this by returning a reserved <b>void *</b> exit status; it is not possible to reserve an <b>int</b> value for this
purpose without introducing a conflict with the ISO&nbsp;C standard.) The standard developers considered adding a
<tt>thrd_canceled</tt> enumeration constant that <i>thrd_join</i>() would return in this case. However, this return would be
unexpected in code that is written to conform to the ISO&nbsp;C standard, and it would also not solve the problem that threads
which use only ISO C <a href="../basedefs/threads.h.html"><i>&lt;threads.h&gt;</i></a> interfaces (such as ones created by third
party libraries written to conform to the ISO&nbsp;C standard) have no way to handle being cancelled, as the ISO&nbsp;C standard
does not provide cancellation cleanup handlers.</p>
<p>The <i>thrd_join</i>() function is not affected by signal handlers for the reasons stated in XRAT <a href=
"../xrat/V4_xsh_chap01.html#tag_22_02_03"><i>B.2.3 Error Numbers</i></a>.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_622_09" id="tag_17_622_09"></a>FUTURE DIRECTIONS</h4>
<blockquote>
<p>None.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_622_10" id="tag_17_622_10"></a>SEE ALSO</h4>
<blockquote>
<p><a href="../functions/pthread_create.html#"><i>pthread_create</i>()</a>, <a href=
"../functions/pthread_exit.html#"><i>pthread_exit</i>()</a>, <a href="../functions/pthread_join.html#"><i>pthread_join</i>()</a>,
<a href="../functions/thrd_create.html#"><i>thrd_create</i>()</a>, <a href=
"../functions/thrd_exit.html#"><i>thrd_exit</i>()</a></p>
<p>XBD <a href="../basedefs/V1_chap04.html#tag_04_15_02"><i>4.15.2 Memory Synchronization</i></a>, <a href=
"../basedefs/threads.h.html"><i>&lt;threads.h&gt;</i></a></p>
</blockquote>
<h4 class="mansect"><a name="tag_17_622_11" id="tag_17_622_11"></a>CHANGE HISTORY</h4>
<blockquote>
<p>First released in Issue 8. Included for alignment with the ISO/IEC&nbsp;9899:2018 standard.</p>
</blockquote>
<div class="box"><em>End of informative text.</em></div>
<hr>
<p>&nbsp;</p>
<a href="#top"><span class="topOfPage">return to top of page</span></a><br>
<hr size="2" noshade>
<center><font size="2">UNIX® is a registered Trademark of The Open Group.<br>
POSIX™ is a Trademark of The IEEE.<br>
Copyright © 2001-2024 The IEEE and The Open Group, All Rights Reserved<br>
[ <a href="../mindex.html">Main Index</a> | <a href="../basedefs/contents.html">XBD</a> | <a href=
"../functions/contents.html">XSH</a> | <a href="../utilities/contents.html">XCU</a> | <a href="../xrat/contents.html">XRAT</a>
]</font></center>
<hr size="2" noshade>
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../functions/thrd_exit.html" accesskey="P">&lt;&lt;&lt;
Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../functions/thrd_sleep.html" accesskey="N">Next
&gt;&gt;&gt;</a></td>
</tr>
</table>
<hr align="left" width="100%"></div>
</body>
</html>
