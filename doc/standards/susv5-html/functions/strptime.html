<!-- Copyright 2001-2024 IEEE and The Open Group, All Rights Reserved -->
<!DOCTYPE HTML>
<html lang="en">
<head>
<meta name="generator" content="HTML Tidy for HTML5 for Linux version 5.8.0">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link type="text/css" rel="stylesheet" href="style.css"><!-- Generated by The Open Group rhtm tool v1.2.4 -->
<!-- Copyright (c) 2001-2024 The Open Group, All Rights Reserved -->
<title>strptime</title>
</head>
<body bgcolor="white">
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../functions/strpbrk.html" accesskey="P">&lt;&lt;&lt;
Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../functions/strrchr.html" accesskey="N">Next
&gt;&gt;&gt;</a></td>
</tr>
</table>
<hr align="left" width="100%"></div>
<script language="JavaScript" src="../jscript/codes.js"></script><basefont size="3">
<center><font size="2">The Open Group Base Specifications Issue 8<br>
IEEE Std 1003.1-2024<br>
Copyright © 2001-2024 The IEEE and The Open Group</font></center>
<hr size="2" noshade>
<a name="top" id="top"></a> <a name="strptime" id="strptime"></a> <a name="tag_17_585" id="tag_17_585"></a><!-- strptime -->
<h4 class="mansect"><a name="tag_17_585_01" id="tag_17_585_01"></a>NAME</h4>
<blockquote>strptime — date and time conversion</blockquote>
<h4 class="mansect"><a name="tag_17_585_02" id="tag_17_585_02"></a>SYNOPSIS</h4>
<blockquote class="synopsis">
<div class="box"><code><tt><sup>[<a href="javascript:open_code('XSI')">XSI</a>]</sup> <img src="../images/opt-start.gif" alt=
"[Option Start]" border="0"> #include &lt;<a href="../basedefs/time.h.html">time.h</a>&gt;<br>
<br>
char *strptime(const char *restrict</tt> <i>buf</i><tt>, const char *restrict</tt> <i>format</i><tt>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; struct tm *restrict</tt> <i>tm</i><tt>); <img src="../images/opt-end.gif" alt="[Option End]"
border="0"></tt></code></div>
<tt><br></tt></blockquote>
<h4 class="mansect"><a name="tag_17_585_03" id="tag_17_585_03"></a>DESCRIPTION</h4>
<blockquote>
<p>The <i>strptime</i>() function shall convert the character string pointed to by <i>buf</i> to values which are stored in the
<b>tm</b> structure pointed to by <i>tm</i>, using the format specified by <i>format</i>.</p>
<p>The application shall ensure that the format is a character string, beginning and ending in its initial shift state, if any. The
format is composed of zero or more directives. Each directive is composed of one of the following: one or more white-space bytes;
an ordinary character (neither <tt>'%'</tt> nor a white-space byte); or a conversion specification.</p>
<p>Each conversion specification is introduced by the <tt>'%'</tt> character after which the following appear in sequence:</p>
<ul>
<li>
<p>An optional flag, the zero character (<tt>'0'</tt>) or the &lt;plus-sign&gt; character (<tt>'+'</tt>), which is ignored.</p>
</li>
<li>
<p>An optional field width. If a field width is specified, it shall be interpreted as a string of decimal digits that determine the
maximum number of bytes converted for the conversion rather than the number of bytes specified below in the description of the
conversion specifiers.</p>
</li>
<li>
<p>An optional <tt>E</tt> or <tt>O</tt> modifier.</p>
</li>
<li>
<p>A terminating conversion specifier character that indicates the type of conversion to be applied.</p>
</li>
</ul>
<p>The conversions are determined using the <i>LC_TIME</i> category of the current locale. The application shall ensure that there
are white-space bytes or other non-alphanumeric bytes between any two conversion specifications unless all of the adjacent
conversion specifications convert a known, fixed number of characters. In the following list, the maximum number of characters
scanned (excluding the one matching the next directive) is as follows:</p>
<ul>
<li>
<p>If a maximum field width is specified, then that number</p>
</li>
<li>
<p>Otherwise, the pattern <tt>"{x}"</tt> indicates that the maximum is <i>x</i></p>
</li>
<li>
<p>Otherwise, the pattern <tt>"[x,y]"</tt> indicates that the value shall fall within the range given (both bounds being
inclusive), and the maximum number of characters scanned shall be the maximum required to represent any value in the range without
leading zeros and without a leading &lt;plus-sign&gt;</p>
</li>
</ul>
<p>The following conversion specifiers are supported.</p>
<p>The results are unspecified if a modifier is specified with a flag or with a minimum field width, or if a field width is
specified for any conversion specifier other than <tt>C</tt>, <tt>F</tt>, <tt>G</tt>, <tt>Y</tt>, or <tt>Z</tt>.</p>
<dl compact>
<dd></dd>
<dt><tt>a</tt></dt>
<dd>The day of the week, using the locale's weekday names; either the abbreviated or full name can be specified. The <i>tm_wday</i>
member of the <b>tm</b> structure pointed to by <i>tm</i> shall be set to the corresponding day of the week number (Sunday=0).</dd>
<dt><tt>A</tt></dt>
<dd>Equivalent to <tt>%a</tt>.</dd>
<dt><tt>b</tt></dt>
<dd>The month, using the locale's month names; either the abbreviated or full version of either the default or the alternative
month name can be specified. The <i>tm_mon</i> member of the <b>tm</b> structure pointed to by <i>tm</i> shall be set to the
corresponding month number.</dd>
<dt><tt>B</tt></dt>
<dd>Equivalent to <tt>%b</tt>.</dd>
<dt><tt>c</tt></dt>
<dd>Replaced by the locale's appropriate date and time representation. The members of the <b>tm</b> structure pointed to by
<i>tm</i> shall be set as specified for the conversions present in the locale's <b>d_t_fmt</b> value.</dd>
<dt><tt>C</tt></dt>
<dd>All but the last two digits of the year {2}; leading zeros shall be permitted but shall not be required. A leading <tt>'+'</tt>
or <tt>'-'</tt> character shall be permitted before any leading zeros but shall not be required. The <i>tm_year</i> member of the
<b>tm</b> structure pointed to by <i>tm</i> shall be set to the number formed by appending the last two digits of the year to these
digits, minus 1900. If a <tt>y</tt> conversion is also performed, the last two digits of the year shall be those processed by the
<tt>y</tt> conversion; otherwise, they shall be 00.</dd>
<dt><tt>d</tt></dt>
<dd>The day of the month [01,31]; leading zeros shall be permitted but shall not be required. The <i>tm_mday</i> member of the
<b>tm</b> structure pointed to by <i>tm</i> shall be set to this number.</dd>
<dt><tt>D</tt></dt>
<dd>Equivalent to <tt>%m</tt>/<tt>%d</tt>/<tt>%y</tt>.</dd>
<dt><tt>e</tt></dt>
<dd>Equivalent to <tt>%d</tt>.</dd>
<dt><tt>F</tt></dt>
<dd>This specifier is similar to <tt>%Y-%m-%d</tt> where the characters up to the first &lt;hyphen-minus&gt; separator shall be
converted as for <tt>%Y</tt> but with unlimited field width, the characters between the two &lt;hyphen-minus&gt; separators shall
be converted as for <tt>%m</tt>, and the characters after the last &lt;hyphen-minus&gt; separator shall be converted as for
<tt>%d</tt>. If a field width is specified, each of the <tt>%Y</tt>, <tt>%m</tt>, and <tt>%d</tt> conversions shall not convert any
characters past the overall <tt>%F</tt> field width. The members of the <b>tm</b> structure pointed to by <i>tm</i> shall be set as
specified for the <tt>Y</tt>, <tt>m</tt>, and <tt>d</tt> conversions.</dd>
<dt><tt>g</tt></dt>
<dd>The last 2 digits of the week-based year (see below) as a decimal number (for example, 77). Leading zeros shall be permitted
but shall not be required. A leading <tt>'+'</tt> or <tt>'-'</tt> character shall be permitted before any leading zeros but shall
not be required. The effect of this year, if any, on the <b>tm</b> structure pointed to by <i>tm</i> is unspecified.</dd>
<dt><tt>G</tt></dt>
<dd>The week-based year (see below) as a decimal number (for example, 1977). Leading zeros shall be permitted but shall not be
required. A leading <tt>'+'</tt> or <tt>'-'</tt> character shall be permitted before any leading zeros but shall not be required.
The effect of this year, if any, on the <b>tm</b> structure pointed to by <i>tm</i> is unspecified.</dd>
<dt><tt>h</tt></dt>
<dd>Equivalent to <tt>%b</tt>.</dd>
<dt><tt>H</tt></dt>
<dd>The hour (24-hour clock) [00,23]; leading zeros shall be permitted but shall not be required. The <i>tm_hour</i> member of the
<b>tm</b> structure pointed to by <i>tm</i> shall be set to this number.</dd>
<dt><tt>I</tt></dt>
<dd>The hour (12-hour clock) [01,12]; leading zeros shall be permitted but shall not be required. If a <tt>p</tt> conversion is
also performed, the <i>tm_hour</i> member of the <b>tm</b> structure pointed to by <i>tm</i> shall be set to the hour, by the
24-hour clock, corresponding to the combined results of the <tt>I</tt> and <tt>p</tt> conversions. If a <tt>p</tt> conversion is
not also performed, the behavior is unspecified.</dd>
<dt><tt>j</tt></dt>
<dd>The day number of the year [001,366]; leading zeros shall be permitted but shall not be required. The <i>tm_yday</i> member of
the <b>tm</b> structure pointed to by <i>tm</i> shall be set to this number minus 1.</dd>
<dt><tt>m</tt></dt>
<dd>The month number [01,12]; leading zeros shall be permitted but shall not be required. The <i>tm_mon</i> member of the <b>tm</b>
structure pointed to by <i>tm</i> shall be set to this number minus 1.</dd>
<dt><tt>M</tt></dt>
<dd>The minute [00,59]; leading zeros shall be permitted but shall not be required. The <i>tm_min</i> member of the <b>tm</b>
structure pointed to by <i>tm</i> shall be set to this number.</dd>
<dt><tt>n</tt></dt>
<dd>Any white-space bytes.</dd>
<dt><tt>p</tt></dt>
<dd>The locale's equivalent of a.m. or p.m. If an <tt>I</tt> conversion is also performed, the <i>tm_hour</i> member of the
<b>tm</b> structure pointed to by <i>tm</i> shall be set as specified for the <tt>I</tt> conversion; otherwise, the behavior is
unspecified.</dd>
<dt><tt>r</tt></dt>
<dd>12-hour clock time, if the 12-hour format is supported in the locale (see XBD <a href=
"../basedefs/V1_chap07.html#tag_07_03_05"><i>7.3.5 LC_TIME</i></a>); in the POSIX locale, this shall be equivalent to
<tt>%I</tt>:<tt>%M</tt>:<tt>%S</tt> <tt>%p</tt>. The members of the <b>tm</b> structure pointed to by <i>tm</i> shall be set as
specified for the conversions present in the locale's <b>t_fmt_ampm</b> value.</dd>
<dt><tt>R</tt></dt>
<dd>Equivalent to <tt>%H</tt>:<tt>%M</tt>.</dd>
<dt><tt>s</tt></dt>
<dd>The number of seconds since the Epoch as a decimal number (see XBD <a href="../basedefs/V1_chap04.html#tag_04_19"><i>4.19
Seconds Since the Epoch</i></a>); leading zeros shall be permitted but shall not be required. The effect of this number, if any,
on the <b>tm</b> structure pointed to by <i>tm</i> is unspecified.</dd>
<dt><tt>S</tt></dt>
<dd>The seconds [00,60]; leading zeros shall be permitted but shall not be required. The <i>tm_sec</i> member of the <b>tm</b>
structure pointed to by <i>tm</i> shall be set to this number.</dd>
<dt><tt>t</tt></dt>
<dd>Any white-space bytes.</dd>
<dt><tt>T</tt></dt>
<dd>Equivalent to <tt>%H</tt>:<tt>%M</tt>:<tt>%S</tt>.</dd>
<dt><tt>u</tt></dt>
<dd>The weekday as a decimal number [1,7], with 1 representing Monday. The <i>tm_wday</i> member of the <b>tm</b> structure pointed
to by <i>tm</i> shall be set to this number modulo 7.</dd>
<dt><tt>U</tt></dt>
<dd>The week number of the year (Sunday as the first day of the week) as a decimal number [00,53]; leading zeros shall be permitted
but shall not be required. The effect of this week number, if any, on the <b>tm</b> structure pointed to by <i>tm</i> is
unspecified.</dd>
<dt><tt>V</tt></dt>
<dd>The week number of the week-based year (see below) as a decimal number [01,53]. Leading zeros shall be permitted but shall not
be required. The effect of this week number, if any, on the <b>tm</b> structure pointed to by <i>tm</i> is unspecified.</dd>
<dt><tt>w</tt></dt>
<dd>The weekday as a decimal number [0,6], with 0 representing Sunday. The <i>tm_wday</i> member of the <b>tm</b> structure pointed
to by <i>tm</i> shall be set to this number.</dd>
<dt><tt>W</tt></dt>
<dd>The week number of the year (Monday as the first day of the week) as a decimal number [00,53]; leading zeros shall be permitted
but shall not be required. The effect of this week number, if any, on the <b>tm</b> structure pointed to by <i>tm</i> is
unspecified.</dd>
<dt><tt>x</tt></dt>
<dd>The date, using the locale's date format. The members of the <b>tm</b> structure pointed to by <i>tm</i> shall be set as
specified for the conversions present in the locale's <b>d_fmt</b> value.</dd>
<dt><tt>X</tt></dt>
<dd>The time, using the locale's time format. The members of the <b>tm</b> structure pointed to by <i>tm</i> shall be set as
specified for the conversions present in the locale's <b>t_fmt</b> value.</dd>
<dt><tt>y</tt></dt>
<dd>The last two digits of the year; leading zeros shall be permitted but shall not be required. A leading <tt>'+'</tt> or
<tt>'-'</tt> character shall be permitted before any leading zeros but shall not be required. If a <tt>C</tt> conversion is not
also performed, values in the range [69,99] shall refer to years 1969 to 1999 inclusive and values in the range [00,68] shall refer
to years 2000 to 2068 inclusive. If a <tt>C</tt> conversion is also performed, the <i>tm_year</i> member of the <b>tm</b> structure
pointed to by <i>tm</i> shall be set as specified for the <tt>C</tt> conversion; otherwise, the <i>tm_year</i> member shall be set
to the calculated year minus 1900. <basefont size="2">
<dl>
<dt><b>Note:</b></dt>
<dd>It is expected that in a future version of this standard the default century inferred from a 2-digit year will change. (This
would apply to all commands accepting a 2-digit year as input.)</dd>
</dl>
<basefont size="3"></dd>
<dt><tt>Y</tt></dt>
<dd>The full year {4}; leading zeros shall be permitted but shall not be required. A leading <tt>'+'</tt> or <tt>'-'</tt> character
shall be permitted before any leading zeros but shall not be required. The <i>tm_year</i> member of the <b>tm</b> structure pointed
to by <i>tm</i> shall be set to this number minus 1900.</dd>
<dt><tt>z</tt></dt>
<dd>The offset from UTC in the ISO&nbsp;8601:2019 standard format (<tt>+hhmm</tt> or <tt>-hhmm</tt>). For example, <tt>"-0430"</tt>
means 4 hours 30 minutes behind UTC (west of Greenwich). The effect of this offset, if any, on the <b>tm</b> structure pointed to
by <i>tm</i> is unspecified.</dd>
<dt><tt>Z</tt></dt>
<dd>The timezone name. If this name matches the name pointed to by <i>tzname</i>[1], and the names pointed to by <i>tzname</i>[0]
and <i>tzname</i>[1] differ, then the <i>tm_isdst</i> member of the <b>tm</b> structure pointed to by <i>tm</i> shall be set to 1.
Otherwise, if this name matches the name pointed to by <i>tzname</i>[0] then the <i>tm_isdst</i> member of the <b>tm</b> structure
pointed to by <i>tm</i> shall be set to 0. The <i>tm_zone</i> and <i>tm_gmtoff</i> members of the structure may also be set in an
unspecified manner. Members other than <i>tm_isdst</i>, <i>tm_zone</i>, and <i>tm_gmtoff</i> may be affected if an <tt>s</tt>
conversion is also performed but shall otherwise not be affected.</dd>
<dt><tt>%</tt></dt>
<dd>Replaced by <tt>%</tt>.</dd>
</dl>
<h5><a name="tag_17_585_03_01" id="tag_17_585_03_01"></a>Modified Conversion Specifiers</h5>
<p>Some conversion specifiers can be modified by the <tt>E</tt> and <tt>O</tt> modifier characters to indicate that an alternative
format or specification should be used rather than the one normally used by the unmodified conversion specifier. If the alternative
format or specification does not exist in the current locale, the behavior shall be as if the unmodified conversion specification
were used.</p>
<dl compact>
<dd></dd>
<dt><tt>%Ec</tt></dt>
<dd>The locale's alternative appropriate date and time representation.</dd>
<dt><tt>%EC</tt></dt>
<dd>The name of the base year (period) in the locale's alternative representation.</dd>
<dt><tt>%Ex</tt></dt>
<dd>The locale's alternative date representation.</dd>
<dt><tt>%EX</tt></dt>
<dd>The locale's alternative time representation.</dd>
<dt><tt>%Ey</tt></dt>
<dd>The offset from <tt>%EC</tt> (year only) in the locale's alternative representation.</dd>
<dt><tt>%EY</tt></dt>
<dd>The full alternative year representation.</dd>
<dt><tt>%Ob</tt></dt>
<dd>Equivalent to <tt>%b</tt>.</dd>
<dt><tt>%OB</tt></dt>
<dd>Equivalent to <tt>%b</tt>.</dd>
<dt><tt>%Od</tt></dt>
<dd>The day of the month using the locale's alternative numeric symbols; leading zeros shall be permitted but shall not be
required.</dd>
<dt><tt>%Oe</tt></dt>
<dd>Equivalent to <tt>%Od</tt>.</dd>
<dt><tt>%Oh</tt></dt>
<dd>Equivalent to <tt>%b</tt>.</dd>
<dt><tt>%OH</tt></dt>
<dd>The hour (24-hour clock) using the locale's alternative numeric symbols.</dd>
<dt><tt>%OI</tt></dt>
<dd>The hour (12-hour clock) using the locale's alternative numeric symbols.</dd>
<dt><tt>%Om</tt></dt>
<dd>The month using the locale's alternative numeric symbols.</dd>
<dt><tt>%OM</tt></dt>
<dd>The minutes using the locale's alternative numeric symbols.</dd>
<dt><tt>%OS</tt></dt>
<dd>The seconds using the locale's alternative numeric symbols.</dd>
<dt><tt>%OU</tt></dt>
<dd>The week number of the year (Sunday as the first day of the week) using the locale's alternative numeric symbols.</dd>
<dt><tt>%OV</tt></dt>
<dd>The same as <tt>%V</tt> but using the locale's alternative numeric symbols.</dd>
<dt><tt>%Ow</tt></dt>
<dd>The number of the weekday (Sunday=0) using the locale's alternative numeric symbols.</dd>
<dt><tt>%OW</tt></dt>
<dd>The week number of the year (Monday as the first day of the week) using the locale's alternative numeric symbols.</dd>
<dt><tt>%Oy</tt></dt>
<dd>The year (offset from <tt>%C</tt>) using the locale's alternative numeric symbols.</dd>
</dl>
<p><tt>%g</tt>, <tt>%G</tt>, and <tt>%V</tt> convert values according to the ISO&nbsp;8601:2019 standard week-based year. In this
system, weeks begin on a Monday and week 1 of the week-based year is the week that includes January 4th, which is also the week
that includes the first Thursday of the year, and is also the first week that contains at least four days in the year. If the first
Monday of January is the 2nd, 3rd, or 4th, the preceding days are part of the last week of the preceding week-based year (thus, the
string <tt>"1998 53 6"</tt> with format specifier <tt>"%G %V %u"</tt> represents Saturday 2nd January 1999). If December 29th,
30th, or 31st is a Monday, it and any following days are part of week 1 of the following week-based year (thus, the string
<tt>"1998 01 2"</tt> with format specifier <tt>"%G %V %u"</tt> represents Tuesday 30th December 1997).</p>
<p>A conversion specification composed of white-space bytes is executed by scanning input up to the first non-white-space byte
(which remains unscanned), or until no more characters can be scanned.</p>
<p>A conversion specification that is an ordinary character is executed by scanning the next character from the buffer. If the
character scanned from the buffer differs from the one comprising the directive, the directive fails, and the differing and
subsequent characters remain unscanned.</p>
<p>A series of conversion specifications composed of <tt>%n</tt>, <tt>%t</tt>, white-space bytes, or any combination is executed by
scanning up to the first non-white-space byte (which remains unscanned), or until no more characters can be scanned.</p>
<p>Any other conversion specification is executed by scanning characters until a character matching the next directive is scanned,
or until no more characters can be scanned. These characters, except the one matching the next directive, are then compared to the
locale values associated with the conversion specifier. If a match is found, values for the affected <b>tm</b> structure members
are set as specified in the description of the conversion specification. Case is ignored when matching items in <i>buf</i> such as
month or weekday names. If no match is found, <i>strptime</i>() fails and no more characters are scanned.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_585_04" id="tag_17_585_04"></a>RETURN VALUE</h4>
<blockquote>
<p>Upon successful completion, <i>strptime</i>() shall return a pointer to the character following the last character parsed.
Otherwise, a null pointer shall be returned.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_585_05" id="tag_17_585_05"></a>ERRORS</h4>
<blockquote>
<p>No errors are defined.</p>
</blockquote>
<hr>
<div class="box"><em>The following sections are informative.</em></div>
<h4 class="mansect"><a name="tag_17_585_06" id="tag_17_585_06"></a>EXAMPLES</h4>
<blockquote>
<h5><a name="tag_17_585_06_01" id="tag_17_585_06_01"></a>Convert a Date-Plus-Time String to Broken-Down Time and Then into
Seconds</h5>
<p>The following example demonstrates the use of <i>strptime</i>() to convert a string into broken-down time. The broken-down time
is then converted into seconds since the Epoch using <a href="../functions/mktime.html"><i>mktime</i>()</a>.</p>
<pre>
<tt>#include &lt;time.h&gt;
...
<br>
struct tm tm;
time_t t;
<br>
if (strptime("6 Dec 2001 12:33:45", "%d %b %Y %H:%M:%S", &amp;tm) == NULL)
    /* Handle error */;
<br>
printf("year: %d; month: %d; day: %d;\n",
        tm.tm_year, tm.tm_mon, tm.tm_mday);
printf("hour: %d; minute: %d; second: %d\n",
        tm.tm_hour, tm.tm_min, tm.tm_sec);
printf("week day: %d; year day: %d\n", tm.tm_wday, tm.tm_yday);
<br>
tm.tm_isdst = -1;      /* Not set by strptime(); tells mktime()
                          to determine whether daylight saving time
                          is in effect */
t = mktime(&amp;tm);
if (t == -1)
    /* Handle error */;
printf("seconds since the Epoch: %ld\n", (long) t);"
</tt></pre></blockquote>
<h4 class="mansect"><a name="tag_17_585_07" id="tag_17_585_07"></a>APPLICATION USAGE</h4>
<blockquote>
<p>Several &quot;equivalent to&quot; formats and the special processing of white-space characters are provided in order to ease the use of
identical format strings for <a href="../functions/strftime.html"><i>strftime</i>()</a> and <i>strptime</i>().</p>
<p>It should be noted that dates constructed by the <a href="../functions/strftime.html"><i>strftime</i>()</a> function with the
<tt>%Y</tt> or <tt>%C%y</tt> conversion specifiers may have values larger than 9999. If the <i>strptime</i>() function is used to
read such values using <tt>%C%y</tt> or <tt>%Y</tt>, the year values will be truncated to four digits. Applications should use
<tt>%+</tt><i>w</i><tt>%y</tt> or <tt>%+</tt><i>x</i><tt>Y</tt> with <i>w</i> and <i>x</i> set large enough to contain the full
value of any years that will be printed or scanned.</p>
<p>The effect of the <tt>s</tt> conversion is unspecified because existing implementations differ in behavior. Some do a conversion
equivalent to <a href="../functions/gmtime.html"><i>gmtime</i>()</a>, ignoring all available timezone information; some do a
conversion equivalent to <a href="../functions/localtime.html"><i>localtime</i>()</a>, using the same timezone it would use and
ignoring any timezone information provided by a <tt>z</tt> or <tt>Z</tt> conversion. Although none has been observed, there may be
existing (or future) implementations that use timezone information provided by a <tt>z</tt> or <tt>Z</tt> conversion, although
using the latter would not be reliable as timezone names are often ambiguous. Applications that need to convert a seconds since the
Epoch value to a <b>tm</b> structure should call <a href="../functions/gmtime.html"><i>gmtime</i>()</a> or <a href=
"../functions/localtime.html"><i>localtime</i>()</a> (or their thread-safe equivalents) directly.</p>
<p>The effect of the <tt>z</tt> conversion is unspecified because existing implementations differ in behavior. Some just use it to
set the <i>tm_gmtoff</i> member of the <b>tm</b> structure; some use the value to adjust the other field members to represent UTC,
convert the resulting time to a seconds since the Epoch value, and then convert back to a <b>tm</b> structure by the equivalent of
<a href="../functions/localtime.html"><i>localtime</i>()</a>. An application that needs either of these behaviors should perform
the necessary processing explicitly itself.</p>
<p>Although the <tt>Z</tt> conversion might be expected to set the <i>tm_zone</i> member of the <b>tm</b> structure, no existing
implementation has been found that sets it. Applications that need it set should set it explicitly after calling
<i>strptime</i>().</p>
<p>See also the APPLICATION USAGE section in <a href="../functions/strftime.html#"><i>strftime</i>()</a>.</p>
<p>It is unspecified whether multiple calls to <i>strptime</i>() using the same <b>tm</b> structure will update the current
contents of the structure or overwrite all contents of the structure. Conforming applications should make a single call to
<i>strptime</i>() with a format and all data needed to completely specify the date and time being converted.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_585_08" id="tag_17_585_08"></a>RATIONALE</h4>
<blockquote>
<p>See the RATIONALE section for <a href="../functions/strftime.html#"><i>strftime</i>()</a>.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_585_09" id="tag_17_585_09"></a>FUTURE DIRECTIONS</h4>
<blockquote>
<p>None.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_585_10" id="tag_17_585_10"></a>SEE ALSO</h4>
<blockquote>
<p><a href="../functions/fprintf.html#"><i>fprintf</i>()</a>, <a href="../functions/fscanf.html#"><i>fscanf</i>()</a>, <a href=
"../functions/strftime.html#"><i>strftime</i>()</a>, <a href="../functions/time.html#tag_17_625"><i>time</i>()</a></p>
<p>XBD <a href="../basedefs/time.h.html"><i>&lt;time.h&gt;</i></a></p>
</blockquote>
<h4 class="mansect"><a name="tag_17_585_11" id="tag_17_585_11"></a>CHANGE HISTORY</h4>
<blockquote>
<p>First released in Issue 4.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_585_12" id="tag_17_585_12"></a>Issue 5</h4>
<blockquote>
<p>Moved from ENHANCED I18N to BASE.</p>
<p>The [ENOSYS] error is removed.</p>
<p>The exact meaning of the <tt>%y</tt> and <tt>%Oy</tt> specifiers is clarified in the DESCRIPTION.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_585_13" id="tag_17_585_13"></a>Issue 6</h4>
<blockquote>
<p>The Open Group Corrigendum U033/5 is applied. The <tt>%r</tt> specifier description is reworded.</p>
<p>The normative text is updated to avoid use of the term &quot;must&quot; for application requirements.</p>
<p>The <b>restrict</b> keyword is added to the <i>strptime</i>() prototype for alignment with the ISO/IEC&nbsp;9899:1999
standard.</p>
<p>The Open Group Corrigendum U047/2 is applied.</p>
<p>The DESCRIPTION is updated to use the terms &quot;conversion specifier&quot; and &quot;conversion specification&quot; for consistency with
<a href="../functions/strftime.html"><i>strftime</i>()</a>.</p>
<p>IEEE&nbsp;Std&nbsp;1003.1-2001/Cor&nbsp;2-2004, item XSH/TC2/D6/133 is applied, adding the example to the EXAMPLES section.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_585_14" id="tag_17_585_14"></a>Issue 7</h4>
<blockquote>
<p>Austin Group Interpretation 1003.1-2001 #041 is applied, updating the DESCRIPTION and APPLICATION USAGE sections.</p>
<p>Austin Group Interpretation 1003.1-2001 #163 is applied.</p>
<p>SD5-XSH-ERN-67 is applied, correcting the APPLICATION USAGE to remove the impression that <tt>%Y</tt> is 4-digit years.</p>
<p>POSIX.1-2008, Technical Corrigendum 2, XSH/TC2-2008/0345 [920] and XSH/TC2-2008/0346 [919] are applied.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_585_15" id="tag_17_585_15"></a>Issue 8</h4>
<blockquote>
<p>Austin Group Defect 169 is applied, adding the <tt>s</tt> conversion.</p>
<p>Austin Group Defects 258 and 1166 are applied, adding the <tt>Ob</tt>, <tt>OB</tt>, and <tt>Oh</tt> modified conversions.</p>
<p>Austin Group Defect 879 is applied, adding the <tt>F</tt>, <tt>g</tt>, <tt>G</tt>, <tt>u</tt>, <tt>V</tt>, <tt>z</tt>, and
<tt>Z</tt> conversions and the <tt>OV</tt> modified conversion, and adding a statement to the week number conversions that their
effect on the <b>tm</b> structure pointed to by <i>tm</i> is unspecified.</p>
<p>Austin Group Defect 1163 is applied, clarifying the handling of white space in the format string.</p>
<p>Austin Group Defect 1307 is applied, changing the <tt>r</tt> conversion in relation to locales that do not support the 12-hour
clock format.</p>
<p>Austin Group Defect 1562 is applied, clarifying that it is the application's responsibility to ensure that the format is a
character string, beginning and ending in its initial shift state, if any.</p>
<p>Austin Group Defect 1727 is applied, clarifying which members of the <b>tm</b> structure are updated by each conversion.</p>
</blockquote>
<div class="box"><em>End of informative text.</em></div>
<hr>
<p>&nbsp;</p>
<a href="#top"><span class="topOfPage">return to top of page</span></a><br>
<hr size="2" noshade>
<center><font size="2">UNIX® is a registered Trademark of The Open Group.<br>
POSIX™ is a Trademark of The IEEE.<br>
Copyright © 2001-2024 The IEEE and The Open Group, All Rights Reserved<br>
[ <a href="../mindex.html">Main Index</a> | <a href="../basedefs/contents.html">XBD</a> | <a href=
"../functions/contents.html">XSH</a> | <a href="../utilities/contents.html">XCU</a> | <a href="../xrat/contents.html">XRAT</a>
]</font></center>
<hr size="2" noshade>
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../functions/strpbrk.html" accesskey="P">&lt;&lt;&lt;
Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../functions/strrchr.html" accesskey="N">Next
&gt;&gt;&gt;</a></td>
</tr>
</table>
<hr align="left" width="100%"></div>
</body>
</html>
