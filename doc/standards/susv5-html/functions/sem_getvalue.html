<!-- Copyright 2001-2024 IEEE and The Open Group, All Rights Reserved -->
<!DOCTYPE HTML>
<html lang="en">
<head>
<meta name="generator" content="HTML Tidy for HTML5 for Linux version 5.8.0">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link type="text/css" rel="stylesheet" href="style.css"><!-- Generated by The Open Group rhtm tool v1.2.4 -->
<!-- Copyright (c) 2001-2024 The Open Group, All Rights Reserved -->
<title>sem_getvalue</title>
</head>
<body bgcolor="white">
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../functions/sem_destroy.html" accesskey="P">&lt;&lt;&lt;
Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../functions/sem_init.html" accesskey="N">Next
&gt;&gt;&gt;</a></td>
</tr>
</table>
<hr align="left" width="100%"></div>
<center><font size="2">The Open Group Base Specifications Issue 8<br>
IEEE Std 1003.1-2024<br>
Copyright © 2001-2024 The IEEE and The Open Group</font></center>
<hr size="2" noshade>
<a name="top" id="top"></a> <a name="sem_getvalue" id="sem_getvalue"></a> <a name="tag_17_507" id="tag_17_507"></a>
<!-- sem_getvalue -->
<h4 class="mansect"><a name="tag_17_507_01" id="tag_17_507_01"></a>NAME</h4>
<blockquote>sem_getvalue — get the value of a semaphore</blockquote>
<h4 class="mansect"><a name="tag_17_507_02" id="tag_17_507_02"></a>SYNOPSIS</h4>
<blockquote class="synopsis">
<p><code><tt>#include &lt;<a href="../basedefs/semaphore.h.html">semaphore.h</a>&gt;<br>
<br>
int sem_getvalue(sem_t *restrict</tt> <i>sem</i><tt>, int *restrict</tt> <i>sval</i><tt>);<br></tt></code></p>
</blockquote>
<h4 class="mansect"><a name="tag_17_507_03" id="tag_17_507_03"></a>DESCRIPTION</h4>
<blockquote>
<p>The <i>sem_getvalue</i>() function shall update the location referenced by the <i>sval</i> argument to have the value of the
semaphore referenced by <i>sem</i> without affecting the state of the semaphore. The updated value represents an actual semaphore
value that occurred at some unspecified time during the call, but it need not be the actual value of the semaphore when it is
returned to the calling process.</p>
<p>If <i>sem</i> is locked, then the object to which <i>sval</i> points shall either be set to zero or to a negative number whose
absolute value represents the number of processes waiting for the semaphore at some unspecified time during the call.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_507_04" id="tag_17_507_04"></a>RETURN VALUE</h4>
<blockquote>
<p>Upon successful completion, the <i>sem_getvalue</i>() function shall return a value of zero. Otherwise, it shall return a value
of -1 and set <i>errno</i> to indicate the error.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_507_05" id="tag_17_507_05"></a>ERRORS</h4>
<blockquote>
<p>The <i>sem_getvalue</i>() function may fail if:</p>
<dl compact>
<dd></dd>
<dt>[EINVAL]</dt>
<dd>The <i>sem</i> argument does not refer to a valid semaphore.</dd>
</dl>
</blockquote>
<hr>
<div class="box"><em>The following sections are informative.</em></div>
<h4 class="mansect"><a name="tag_17_507_06" id="tag_17_507_06"></a>EXAMPLES</h4>
<blockquote>
<p>None.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_507_07" id="tag_17_507_07"></a>APPLICATION USAGE</h4>
<blockquote>
<p>None.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_507_08" id="tag_17_507_08"></a>RATIONALE</h4>
<blockquote>
<p>None.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_507_09" id="tag_17_507_09"></a>FUTURE DIRECTIONS</h4>
<blockquote>
<p>None.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_507_10" id="tag_17_507_10"></a>SEE ALSO</h4>
<blockquote>
<p><a href="../functions/semctl.html#"><i>semctl</i>()</a>, <a href="../functions/semget.html#"><i>semget</i>()</a>, <a href=
"../functions/semop.html#"><i>semop</i>()</a>, <a href="../functions/sem_clockwait.html#"><i>sem_clockwait</i>()</a>, <a href=
"../functions/sem_post.html#"><i>sem_post</i>()</a>, <a href="../functions/sem_trywait.html#"><i>sem_trywait</i>()</a></p>
<p>XBD <a href="../basedefs/semaphore.h.html"><i>&lt;semaphore.h&gt;</i></a></p>
</blockquote>
<h4 class="mansect"><a name="tag_17_507_11" id="tag_17_507_11"></a>CHANGE HISTORY</h4>
<blockquote>
<p>First released in Issue 5. Included for alignment with the POSIX Realtime Extension.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_507_12" id="tag_17_507_12"></a>Issue 6</h4>
<blockquote>
<p>The <i>sem_getvalue</i>() function is marked as part of the Semaphores option.</p>
<p>The [ENOSYS] error condition has been removed as stubs need not be provided if an implementation does not support the Semaphores
option.</p>
<p>The <a href="../functions/sem_timedwait.html"><i>sem_timedwait</i>()</a> function is added to the SEE ALSO section for alignment
with IEEE&nbsp;Std&nbsp;1003.1d-1999.</p>
<p>The <b>restrict</b> keyword is added to the <i>sem_getvalue</i>() prototype for alignment with the ISO/IEC&nbsp;9899:1999
standard.</p>
<p>IEEE&nbsp;Std&nbsp;1003.1-2001/Cor&nbsp;1-2002, item XSH/TC1/D6/54 is applied.</p>
<p>IEEE&nbsp;Std&nbsp;1003.1-2001/Cor&nbsp;2-2004, item XSH/TC2/D6/115 is applied, updating the ERRORS section so that the [EINVAL]
error becomes optional.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_507_13" id="tag_17_507_13"></a>Issue 7</h4>
<blockquote>
<p>The <i>sem_getvalue</i>() function is moved from the Semaphores option to the Base.</p>
<p>POSIX.1-2008, Technical Corrigendum 1, XSH/TC1-2008/0525 [37] is applied.</p>
</blockquote>
<div class="box"><em>End of informative text.</em></div>
<hr>
<p>&nbsp;</p>
<a href="#top"><span class="topOfPage">return to top of page</span></a><br>
<hr size="2" noshade>
<center><font size="2">UNIX® is a registered Trademark of The Open Group.<br>
POSIX™ is a Trademark of The IEEE.<br>
Copyright © 2001-2024 The IEEE and The Open Group, All Rights Reserved<br>
[ <a href="../mindex.html">Main Index</a> | <a href="../basedefs/contents.html">XBD</a> | <a href=
"../functions/contents.html">XSH</a> | <a href="../utilities/contents.html">XCU</a> | <a href="../xrat/contents.html">XRAT</a>
]</font></center>
<hr size="2" noshade>
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../functions/sem_destroy.html" accesskey="P">&lt;&lt;&lt;
Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../functions/sem_init.html" accesskey="N">Next
&gt;&gt;&gt;</a></td>
</tr>
</table>
<hr align="left" width="100%"></div>
</body>
</html>
