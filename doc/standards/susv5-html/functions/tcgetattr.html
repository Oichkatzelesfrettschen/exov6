<!-- Copyright 2001-2024 IEEE and The Open Group, All Rights Reserved -->
<!DOCTYPE HTML>
<html lang="en">
<head>
<meta name="generator" content="HTML Tidy for HTML5 for Linux version 5.8.0">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link type="text/css" rel="stylesheet" href="style.css"><!-- Generated by The Open Group rhtm tool v1.2.4 -->
<!-- Copyright (c) 2001-2024 The Open Group, All Rights Reserved -->
<title>tcgetattr</title>
</head>
<body bgcolor="white">
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../functions/tcflush.html" accesskey="P">&lt;&lt;&lt;
Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../functions/tcgetpgrp.html" accesskey="N">Next
&gt;&gt;&gt;</a></td>
</tr>
</table>
<hr align="left" width="100%"></div>
<center><font size="2">The Open Group Base Specifications Issue 8<br>
IEEE Std 1003.1-2024<br>
Copyright © 2001-2024 The IEEE and The Open Group</font></center>
<hr size="2" noshade>
<a name="top" id="top"></a> <a name="tcgetattr" id="tcgetattr"></a> <a name="tag_17_606" id="tag_17_606"></a><!-- tcgetattr -->
<h4 class="mansect"><a name="tag_17_606_01" id="tag_17_606_01"></a>NAME</h4>
<blockquote>tcgetattr — get the parameters associated with the terminal</blockquote>
<h4 class="mansect"><a name="tag_17_606_02" id="tag_17_606_02"></a>SYNOPSIS</h4>
<blockquote class="synopsis">
<p><code><tt>#include &lt;<a href="../basedefs/termios.h.html">termios.h</a>&gt;<br>
<br>
int tcgetattr(int</tt> <i>fildes</i><tt>, struct termios *</tt><i>termios_p</i><tt>);<br></tt></code></p>
</blockquote>
<h4 class="mansect"><a name="tag_17_606_03" id="tag_17_606_03"></a>DESCRIPTION</h4>
<blockquote>
<p>The <i>tcgetattr</i>() function shall get the parameters associated with the terminal referred to by <i>fildes</i> and store
them in the <b>termios</b> structure referenced by <i>termios_p</i>. The <i>fildes</i> argument is an open file descriptor
associated with a terminal.</p>
<p>The <i>termios_p</i> argument is a pointer to a <b>termios</b> structure.</p>
<p>The <i>tcgetattr</i>() operation is allowed from any process.</p>
<p>If the terminal device supports different input and output baud rates, the baud rates stored in the <b>termios</b> structure
returned by <i>tcgetattr</i>() shall reflect the actual baud rates, even if they are equal. If differing baud rates are not
supported, the rate returned as the output baud rate shall be the actual baud rate. If the terminal device does not support split
baud rates, the input baud rate stored in the <b>termios</b> structure shall be the output rate (as one of the symbolic
values).</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_606_04" id="tag_17_606_04"></a>RETURN VALUE</h4>
<blockquote>
<p>Upon successful completion, 0 shall be returned. Otherwise, -1 shall be returned and <i>errno</i> set to indicate the error.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_606_05" id="tag_17_606_05"></a>ERRORS</h4>
<blockquote>
<p>The <i>tcgetattr</i>() function shall fail if:</p>
<dl compact>
<dd></dd>
<dt>[EBADF]</dt>
<dd>The <i>fildes</i> argument is not a valid file descriptor.</dd>
<dt>[ENOTTY]</dt>
<dd>The file associated with <i>fildes</i> is not a terminal.</dd>
</dl>
</blockquote>
<hr>
<div class="box"><em>The following sections are informative.</em></div>
<h4 class="mansect"><a name="tag_17_606_06" id="tag_17_606_06"></a>EXAMPLES</h4>
<blockquote>
<p>None.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_606_07" id="tag_17_606_07"></a>APPLICATION USAGE</h4>
<blockquote>
<p>None.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_606_08" id="tag_17_606_08"></a>RATIONALE</h4>
<blockquote>
<p>Care must be taken when changing the terminal attributes. Applications should always do a <i>tcgetattr</i>(), save the
<b>termios</b> structure values returned, and then do a <a href="../functions/tcsetattr.html"><i>tcsetattr</i>()</a>, changing only
the necessary fields. The application should use the values saved from the <i>tcgetattr</i>() to reset the terminal state whenever
it is done with the terminal. This is necessary because terminal attributes apply to the underlying port and not to each individual
open instance; that is, all processes that have used the terminal see the latest attribute changes.</p>
<p>A program that uses these functions should be written to catch all signals and take other appropriate actions to ensure that
when the program terminates, whether planned or not, the terminal device's state is restored to its original state.</p>
<p>Existing practice dealing with error returns when only part of a request can be honored is based on calls to the <i>ioctl</i>()
function. In historical BSD and System V implementations, the corresponding <i>ioctl</i>() returns zero if the requested actions
were semantically correct, even if some of the requested changes could not be made. Many existing applications assume this behavior
and would no longer work correctly if the return value were changed from zero to -1 in this case.</p>
<p>Note that either specification has a problem. When zero is returned, it implies everything succeeded even if some of the changes
were not made. When -1 is returned, it implies everything failed even though some of the changes were made.</p>
<p>Applications that need all of the requested changes made to work properly should follow <a href=
"../functions/tcsetattr.html"><i>tcsetattr</i>()</a> with a call to <i>tcgetattr</i>() and compare the appropriate field
values.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_606_09" id="tag_17_606_09"></a>FUTURE DIRECTIONS</h4>
<blockquote>
<p>None.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_606_10" id="tag_17_606_10"></a>SEE ALSO</h4>
<blockquote>
<p><a href="../functions/tcsetattr.html#"><i>tcsetattr</i>()</a></p>
<p>XBD <a href="../basedefs/V1_chap11.html#tag_11"><i>11. General Terminal Interface</i></a>, <a href=
"../basedefs/termios.h.html"><i>&lt;termios.h&gt;</i></a></p>
</blockquote>
<h4 class="mansect"><a name="tag_17_606_11" id="tag_17_606_11"></a>CHANGE HISTORY</h4>
<blockquote>
<p>First released in Issue 3. Included for alignment with the POSIX.1-1988 standard.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_606_12" id="tag_17_606_12"></a>Issue 6</h4>
<blockquote>
<p>In the DESCRIPTION, the rate returned as the input baud rate shall be the output rate. Previously, the number zero was also
allowed but was obsolescent.</p>
</blockquote>
<div class="box"><em>End of informative text.</em></div>
<hr>
<p>&nbsp;</p>
<a href="#top"><span class="topOfPage">return to top of page</span></a><br>
<hr size="2" noshade>
<center><font size="2">UNIX® is a registered Trademark of The Open Group.<br>
POSIX™ is a Trademark of The IEEE.<br>
Copyright © 2001-2024 The IEEE and The Open Group, All Rights Reserved<br>
[ <a href="../mindex.html">Main Index</a> | <a href="../basedefs/contents.html">XBD</a> | <a href=
"../functions/contents.html">XSH</a> | <a href="../utilities/contents.html">XCU</a> | <a href="../xrat/contents.html">XRAT</a>
]</font></center>
<hr size="2" noshade>
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../functions/tcflush.html" accesskey="P">&lt;&lt;&lt;
Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../functions/tcgetpgrp.html" accesskey="N">Next
&gt;&gt;&gt;</a></td>
</tr>
</table>
<hr align="left" width="100%"></div>
</body>
</html>
