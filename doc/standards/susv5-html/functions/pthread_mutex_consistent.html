<!-- Copyright 2001-2024 IEEE and The Open Group, All Rights Reserved -->
<!DOCTYPE HTML>
<html lang="en">
<head>
<meta name="generator" content="HTML Tidy for HTML5 for Linux version 5.8.0">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link type="text/css" rel="stylesheet" href="style.css"><!-- Generated by The Open Group rhtm tool v1.2.4 -->
<!-- Copyright (c) 2001-2024 The Open Group, All Rights Reserved -->
<title>pthread_mutex_consistent</title>
</head>
<body bgcolor="white">
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../functions/pthread_mutex_clocklock.html" accesskey=
"P">&lt;&lt;&lt; Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../functions/pthread_mutex_destroy.html" accesskey="N">Next
&gt;&gt;&gt;</a></td>
</tr>
</table>
<hr align="left" width="100%"></div>
<center><font size="2">The Open Group Base Specifications Issue 8<br>
IEEE Std 1003.1-2024<br>
Copyright © 2001-2024 The IEEE and The Open Group</font></center>
<hr size="2" noshade>
<a name="top" id="top"></a> <a name="pthread_mutex_consistent" id="pthread_mutex_consistent"></a> <a name="tag_17_439" id=
"tag_17_439"></a><!-- pthread_mutex_consistent -->
<h4 class="mansect"><a name="tag_17_439_01" id="tag_17_439_01"></a>NAME</h4>
<blockquote>pthread_mutex_consistent — mark state protected by robust mutex as consistent</blockquote>
<h4 class="mansect"><a name="tag_17_439_02" id="tag_17_439_02"></a>SYNOPSIS</h4>
<blockquote class="synopsis">
<p><code><tt>#include &lt;<a href="../basedefs/pthread.h.html">pthread.h</a>&gt;<br>
<br>
int pthread_mutex_consistent(pthread_mutex_t *</tt><i>mutex</i><tt>);<br></tt></code></p>
</blockquote>
<h4 class="mansect"><a name="tag_17_439_03" id="tag_17_439_03"></a>DESCRIPTION</h4>
<blockquote>
<p>If <i>mutex</i> is a robust mutex in an inconsistent state, the <i>pthread_mutex_consistent</i>() function can be used to mark
the state protected by the mutex referenced by <i>mutex</i> as consistent again.</p>
<p>If an owner of a robust mutex terminates while holding the mutex, the mutex becomes inconsistent and the next thread that
acquires the mutex lock shall be notified of the state by the return value [EOWNERDEAD]. In this case, the mutex does not become
normally usable again until the state is marked consistent.</p>
<p>If the thread which acquired the mutex lock with the return value [EOWNERDEAD] terminates before calling either
<i>pthread_mutex_consistent</i>() or <a href="../functions/pthread_mutex_unlock.html"><i>pthread_mutex_unlock</i>()</a>, the next
thread that acquires the mutex lock shall be notified about the state of the mutex by the return value [EOWNERDEAD].</p>
<p>The behavior is undefined if the value specified by the <i>mutex</i> argument to <i>pthread_mutex_consistent</i>() does not
refer to an initialized mutex.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_439_04" id="tag_17_439_04"></a>RETURN VALUE</h4>
<blockquote>
<p>Upon successful completion, the <i>pthread_mutex_consistent</i>() function shall return zero. Otherwise, an error value shall be
returned to indicate the error.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_439_05" id="tag_17_439_05"></a>ERRORS</h4>
<blockquote>
<p>The <i>pthread_mutex_consistent</i>() function shall fail if:</p>
<dl compact>
<dd></dd>
<dt>[EINVAL]</dt>
<dd>The mutex object referenced by <i>mutex</i> is not robust or does not protect an inconsistent state.</dd>
</dl>
<p>These functions shall not return an error code of [EINTR].</p>
</blockquote>
<hr>
<div class="box"><em>The following sections are informative.</em></div>
<h4 class="mansect"><a name="tag_17_439_06" id="tag_17_439_06"></a>EXAMPLES</h4>
<blockquote>
<p>None.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_439_07" id="tag_17_439_07"></a>APPLICATION USAGE</h4>
<blockquote>
<p>The <i>pthread_mutex_consistent</i>() function is only responsible for notifying the implementation that the state protected by
the mutex has been recovered and that normal operations with the mutex can be resumed. It is the responsibility of the application
to recover the state so it can be reused. If the application is not able to perform the recovery, it can notify the implementation
that the situation is unrecoverable by a call to <a href="../functions/pthread_mutex_unlock.html"><i>pthread_mutex_unlock</i>()</a>
without a prior call to <i>pthread_mutex_consistent</i>(), in which case subsequent threads that attempt to lock the mutex will
fail to acquire the lock and be returned [ENOTRECOVERABLE].</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_439_08" id="tag_17_439_08"></a>RATIONALE</h4>
<blockquote>
<p>If an implementation detects that the value specified by the <i>mutex</i> argument to <i>pthread_mutex_consistent</i>() does not
refer to an initialized mutex, it is recommended that the function should fail and report an [EINVAL] error.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_439_09" id="tag_17_439_09"></a>FUTURE DIRECTIONS</h4>
<blockquote>
<p>None.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_439_10" id="tag_17_439_10"></a>SEE ALSO</h4>
<blockquote>
<p><a href="../functions/pthread_mutex_lock.html#"><i>pthread_mutex_lock</i>()</a>, <a href=
"../functions/pthread_mutexattr_getrobust.html#"><i>pthread_mutexattr_getrobust</i>()</a></p>
<p>XBD <a href="../basedefs/pthread.h.html"><i>&lt;pthread.h&gt;</i></a></p>
</blockquote>
<h4 class="mansect"><a name="tag_17_439_11" id="tag_17_439_11"></a>CHANGE HISTORY</h4>
<blockquote>
<p>First released in Issue 7.</p>
</blockquote>
<div class="box"><em>End of informative text.</em></div>
<hr>
<p>&nbsp;</p>
<a href="#top"><span class="topOfPage">return to top of page</span></a><br>
<hr size="2" noshade>
<center><font size="2">UNIX® is a registered Trademark of The Open Group.<br>
POSIX™ is a Trademark of The IEEE.<br>
Copyright © 2001-2024 The IEEE and The Open Group, All Rights Reserved<br>
[ <a href="../mindex.html">Main Index</a> | <a href="../basedefs/contents.html">XBD</a> | <a href=
"../functions/contents.html">XSH</a> | <a href="../utilities/contents.html">XCU</a> | <a href="../xrat/contents.html">XRAT</a>
]</font></center>
<hr size="2" noshade>
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../functions/pthread_mutex_clocklock.html" accesskey=
"P">&lt;&lt;&lt; Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../functions/pthread_mutex_destroy.html" accesskey="N">Next
&gt;&gt;&gt;</a></td>
</tr>
</table>
<hr align="left" width="100%"></div>
</body>
</html>
