<!-- Copyright 2001-2024 IEEE and The Open Group, All Rights Reserved -->
<!DOCTYPE HTML>
<html lang="en">
<head>
<meta name="generator" content="HTML Tidy for HTML5 for Linux version 5.8.0">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link type="text/css" rel="stylesheet" href="style.css"><!-- Generated by The Open Group rhtm tool v1.2.4 -->
<!-- Copyright (c) 2001-2024 The Open Group, All Rights Reserved -->
<title>strlcat</title>
</head>
<body bgcolor="white">
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../functions/strftime.html" accesskey="P">&lt;&lt;&lt;
Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../functions/strlen.html" accesskey="N">Next
&gt;&gt;&gt;</a></td>
</tr>
</table>
<hr align="left" width="100%"></div>
<script language="JavaScript" src="../jscript/codes.js"></script><basefont size="3">
<center><font size="2">The Open Group Base Specifications Issue 8<br>
IEEE Std 1003.1-2024<br>
Copyright © 2001-2024 The IEEE and The Open Group</font></center>
<hr size="2" noshade>
<a name="top" id="top"></a> <a name="strlcat" id="strlcat"></a> <a name="tag_17_579" id="tag_17_579"></a><!-- strlcat -->
<h4 class="mansect"><a name="tag_17_579_01" id="tag_17_579_01"></a>NAME</h4>
<blockquote>strlcat, strlcpy — size-bounded string concatenation and copying</blockquote>
<h4 class="mansect"><a name="tag_17_579_02" id="tag_17_579_02"></a>SYNOPSIS</h4>
<blockquote class="synopsis">
<div class="box"><code><tt><sup>[<a href="javascript:open_code('CX')">CX</a>]</sup> <img src="../images/opt-start.gif" alt=
"[Option Start]" border="0"> #include &lt;<a href="../basedefs/string.h.html">string.h</a>&gt;<br>
<br>
size_t strlcat(char *restrict</tt> <i>dst</i><tt>, const char *restrict</tt> <i>src</i><tt>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; size_t</tt> <i>dstsize</i><tt>);<br>
size_t strlcpy(char *restrict</tt> <i>dst</i><tt>, const char *restrict</tt> <i>src</i><tt>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; size_t</tt> <i>dstsize</i><tt>); <img src="../images/opt-end.gif" alt="[Option End]" border=
"0"></tt></code></div>
<tt><br></tt></blockquote>
<h4 class="mansect"><a name="tag_17_579_03" id="tag_17_579_03"></a>DESCRIPTION</h4>
<blockquote>
<p>The <i>strlcpy</i>() and <i>strlcat</i>() functions copy and concatenate strings, stopping when either a NUL terminator in the
source string is encountered or the specified full size of the destination buffer is reached. They NUL terminate the result if
there is room. The application should ensure that room for the NUL terminator is included in <i>dstsize</i>.</p>
<p>The <i>strlcpy</i>() function shall copy not more than <i>dstsize</i> - 1 bytes from the string pointed to by <i>src</i> to the
array pointed to by <i>dst</i>; a NUL byte in <i>src</i> and bytes that follow it shall not be copied. A terminating NUL byte shall
be appended to the result, unless <i>dstsize</i> is 0. If copying takes place between objects that overlap, the behavior is
undefined.</p>
<p>The <i>strlcat</i>() function shall append not more than <i>dstsize</i> - <i>strlen</i>(<i>dst</i>) - 1 bytes from the string
pointed to by <i>src</i> to the end of the string pointed to by <i>dst</i>; a NUL byte in <i>src</i> and bytes that follow it shall
not be appended. The initial byte of <i>src</i> shall overwrite the NUL byte at the end of <i>dst</i>. A terminating NUL byte shall
be appended to the result, unless its location would be at or beyond <i>dst</i> + <i>dstsize</i>. If copying takes place between
objects that overlap, the behavior is undefined.</p>
<p>The <i>strlcpy</i>() and <i>strlcat</i>() functions shall not change the setting of <i>errno</i> on valid input.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_579_04" id="tag_17_579_04"></a>RETURN VALUE</h4>
<blockquote>
<p>Upon successful completion, the <i>strlcpy</i>() function shall return the length of the string pointed to by <i>src</i>; that
is, the number of bytes in the string, not including the terminating NUL byte.</p>
<p>Upon successful completion, the <i>strlcat</i>() function shall return the initial length of the string (if any) pointed to by
<i>dst</i>, as limited by <i>dstsize</i>, plus the length of the string pointed to by <i>src</i>; that is, the value that would be
returned by <i>strnlen</i>(<i>dst</i>, <i>dstsize</i>) + <i>strlen</i>(<i>src</i>) before the <i>strlcat</i>() call.</p>
<p>No return values are reserved to indicate an error.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_579_05" id="tag_17_579_05"></a>ERRORS</h4>
<blockquote>
<p>No errors are defined.</p>
</blockquote>
<hr>
<div class="box"><em>The following sections are informative.</em></div>
<h4 class="mansect"><a name="tag_17_579_06" id="tag_17_579_06"></a>EXAMPLES</h4>
<blockquote>
<p>The following example detects truncation while combining a path prefix (including trailing &lt;slash&gt;) and a filename to
produce a portable pathname:</p>
<pre>
<tt>char *prefix, *filenam, pathnam[_POSIX_PATH_MAX];
<br>
if (strlcpy(pathnam, prefix, sizeof pathnam) &gt;= sizeof pathnam ||
    strlcat(pathnam, filenam, sizeof pathnam) &gt;= sizeof pathnam)
{
    // truncation occurred
    ...
}
</tt></pre>
<p>This code ensures there is room for the NUL terminator by:</p>
<ul>
<li>
<p>Calling <i>strlcpy</i>() with a non-zero <i>dstsize</i> argument.</p>
</li>
<li>
<p>Only calling <i>strlcat</i>() if the return value of <i>strlcpy</i>() indicated that truncation did not occur.</p>
</li>
</ul>
</blockquote>
<h4 class="mansect"><a name="tag_17_579_07" id="tag_17_579_07"></a>APPLICATION USAGE</h4>
<blockquote>
<p>The return value of the <i>strlcpy</i>() and <i>strlcat</i>() functions follows the same convention as <a href=
"../functions/snprintf.html"><i>snprintf</i>()</a>; that is, they return the total length of the string they tried to create. If
the return value is greater than or equal to <i>dstsize</i>, the output string has been truncated.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_579_08" id="tag_17_579_08"></a>RATIONALE</h4>
<blockquote>
<p>None.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_579_09" id="tag_17_579_09"></a>FUTURE DIRECTIONS</h4>
<blockquote>
<p>None.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_579_10" id="tag_17_579_10"></a>SEE ALSO</h4>
<blockquote>
<p><a href="../functions/fprintf.html#"><i>fprintf</i>()</a>, <a href="../functions/strlen.html#"><i>strlen</i>()</a>, <a href=
"../functions/strncat.html#"><i>strncat</i>()</a>, <a href="../functions/strncpy.html#"><i>strncpy</i>()</a>, <a href=
"../functions/wcslcat.html#"><i>wcslcat</i>()</a></p>
<p>XBD <a href="../basedefs/string.h.html"><i>&lt;string.h&gt;</i></a></p>
</blockquote>
<h4 class="mansect"><a name="tag_17_579_11" id="tag_17_579_11"></a>CHANGE HISTORY</h4>
<blockquote>
<p>First released in Issue 8.</p>
</blockquote>
<div class="box"><em>End of informative text.</em></div>
<hr>
<p>&nbsp;</p>
<a href="#top"><span class="topOfPage">return to top of page</span></a><br>
<hr size="2" noshade>
<center><font size="2">UNIX® is a registered Trademark of The Open Group.<br>
POSIX™ is a Trademark of The IEEE.<br>
Copyright © 2001-2024 The IEEE and The Open Group, All Rights Reserved<br>
[ <a href="../mindex.html">Main Index</a> | <a href="../basedefs/contents.html">XBD</a> | <a href=
"../functions/contents.html">XSH</a> | <a href="../utilities/contents.html">XCU</a> | <a href="../xrat/contents.html">XRAT</a>
]</font></center>
<hr size="2" noshade>
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../functions/strftime.html" accesskey="P">&lt;&lt;&lt;
Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../functions/strlen.html" accesskey="N">Next
&gt;&gt;&gt;</a></td>
</tr>
</table>
<hr align="left" width="100%"></div>
</body>
</html>
