<!-- Copyright 2001-2024 IEEE and The Open Group, All Rights Reserved -->
<!DOCTYPE HTML>
<html lang="en">
<head>
<meta name="generator" content="HTML Tidy for HTML5 for Linux version 5.8.0">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link type="text/css" rel="stylesheet" href="style.css"><!-- Generated by The Open Group rhtm tool v1.2.4 -->
<!-- Copyright (c) 2001-2024 The Open Group, All Rights Reserved -->
<title>atomic_signal_fence</title>
</head>
<body bgcolor="white">
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../functions/atomic_load.html" accesskey="P">&lt;&lt;&lt;
Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../functions/atomic_store.html" accesskey="N">Next
&gt;&gt;&gt;</a></td>
</tr>
</table>
<hr align="left" width="100%"></div>
<script language="JavaScript" src="../jscript/codes.js"></script><basefont size="3">
<center><font size="2">The Open Group Base Specifications Issue 8<br>
IEEE Std 1003.1-2024<br>
Copyright © 2001-2024 The IEEE and The Open Group</font></center>
<hr size="2" noshade>
<a name="top" id="top"></a> <a name="atomic_signal_fence" id="atomic_signal_fence"></a> <a name="tag_17_40" id="tag_17_40"></a> 
<!-- atomic_signal_fence -->
<h4 class="mansect"><a name="tag_17_40_01" id="tag_17_40_01"></a>NAME</h4>
<blockquote>atomic_signal_fence, atomic_thread_fence — fence operations</blockquote>
<h4 class="mansect"><a name="tag_17_40_02" id="tag_17_40_02"></a>SYNOPSIS</h4>
<blockquote class="synopsis">
<p><code><tt>#include &lt;<a href="../basedefs/stdatomic.h.html">stdatomic.h</a>&gt;<br>
<br>
void atomic_signal_fence(memory_order</tt> <i>order</i><tt>);<br>
void atomic_thread_fence(memory_order</tt> <i>order</i><tt>);<br></tt></code></p>
</blockquote>
<h4 class="mansect"><a name="tag_17_40_03" id="tag_17_40_03"></a>DESCRIPTION</h4>
<blockquote>
<div class="box"><sup>[<a href="javascript:open_code('CX')">CX</a>]</sup> <img src="../images/opt-start.gif" alt="[Option Start]"
border="0"> The functionality described on this reference page is aligned with the ISO&nbsp;C standard. Any conflict between the
requirements described here and the ISO&nbsp;C standard is unintentional. This volume of POSIX.1-2024 defers to the ISO&nbsp;C
standard. <img src="../images/opt-end.gif" alt="[Option End]" border="0"></div>
<p>Implementations that define the macro __STDC_NO_ATOMICS__ need not provide the <a href=
"../basedefs/stdatomic.h.html"><i>&lt;stdatomic.h&gt;</i></a> header nor support these generic functions.</p>
<p>The <i>atomic_signal_fence</i>() and <i>atomic_thread_fence</i>() functions provide synchronization primitives called
<i>fences</i>. Fences can have acquire semantics, release semantics, or both. A fence with acquire semantics is called an
<i>acquire fence</i>; a fence with release semantics is called a <i>release fence</i>.</p>
<p>A release fence <i>A</i> synchronizes with an acquire fence <i>B</i> if there exist atomic operations <i>X</i> and <i>Y</i>,
both operating on some atomic object <i>M</i>, such that <i>A</i> is sequenced before <i>X</i>, <i>X</i> modifies <i>M</i>,
<i>Y</i> is sequenced before <i>B</i>, and <i>Y</i> reads the value written by <i>X</i> or a value written by any side effect in
the hypothetical release sequence <i>X</i> would head if it were a release operation.</p>
<p>A release fence <i>A</i> synchronizes with an atomic operation <i>B</i> that performs an acquire operation on an atomic object
<i>M</i> if there exists an atomic operation <i>X</i> such that <i>A</i> is sequenced before <i>X</i>, <i>X</i> modifies <i>M</i>,
and <i>B</i> reads the value written by <i>X</i> or a value written by any side effect in the hypothetical release sequence
<i>X</i> would head if it were a release operation.</p>
<p>An atomic operation <i>A</i> that is a release operation on an atomic object <i>M</i> synchronizes with an acquire fence
<i>B</i> if there exists some atomic operation <i>X</i> on <i>M</i> such that <i>X</i> is sequenced before <i>B</i> and reads the
value written by <i>A</i> or a value written by any side effect in the release sequence headed by <i>A</i>.</p>
<p>Depending on the value of <i>order</i>, the operation performed by <i>atomic_thread_fence</i>() shall:</p>
<ul>
<li>
<p>have no effects, if <i>order</i> is equal to <tt>memory_order_relaxed</tt>;</p>
</li>
<li>
<p>be an acquire fence, if <i>order</i> is equal to <tt>memory_order_acquire</tt> or <tt>memory_order_consume</tt>;</p>
</li>
<li>
<p>be a release fence, if <i>order</i> is equal to <tt>memory_order_release</tt>;</p>
</li>
<li>
<p>be both an acquire fence and a release fence, if <i>order</i> is equal to <tt>memory_order_acq_rel</tt>;</p>
</li>
<li>
<p>be a sequentially consistent acquire and release fence, if <i>order</i> is equal to <tt>memory_order_seq_cst</tt>.</p>
</li>
</ul>
<p>The <i>atomic_signal_fence</i>() function shall be equivalent to <i>atomic_thread_fence</i>(), except that the resulting
ordering constraints shall be established only between a thread and a signal handler executed in the same thread.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_40_04" id="tag_17_40_04"></a>RETURN VALUE</h4>
<blockquote>
<p>These functions shall not return a value.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_40_05" id="tag_17_40_05"></a>ERRORS</h4>
<blockquote>
<p>No errors are defined.</p>
</blockquote>
<hr>
<div class="box"><em>The following sections are informative.</em></div>
<h4 class="mansect"><a name="tag_17_40_06" id="tag_17_40_06"></a>EXAMPLES</h4>
<blockquote>
<p>None.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_40_07" id="tag_17_40_07"></a>APPLICATION USAGE</h4>
<blockquote>
<p>The <i>atomic_signal_fence</i>() function can be used to specify the order in which actions performed by the thread become
visible to the signal handler. Implementation reorderings of loads and stores are inhibited in the same way as with
<i>atomic_thread_fence</i>(), but the hardware fence instructions that <i>atomic_thread_fence</i>() would have inserted are not
emitted.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_40_08" id="tag_17_40_08"></a>RATIONALE</h4>
<blockquote>
<p>None.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_40_09" id="tag_17_40_09"></a>FUTURE DIRECTIONS</h4>
<blockquote>
<p>None.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_40_10" id="tag_17_40_10"></a>SEE ALSO</h4>
<blockquote>
<p>XBD <a href="../basedefs/V1_chap04.html#tag_04_15_01"><i>4.15.1 Memory Ordering</i></a>, <a href=
"../basedefs/stdatomic.h.html"><i>&lt;stdatomic.h&gt;</i></a></p>
</blockquote>
<h4 class="mansect"><a name="tag_17_40_11" id="tag_17_40_11"></a>CHANGE HISTORY</h4>
<blockquote>
<p>First released in Issue 8. Included for alignment with the ISO/IEC&nbsp;9899:2018 standard.</p>
</blockquote>
<div class="box"><em>End of informative text.</em></div>
<hr>
<p>&nbsp;</p>
<a href="#top"><span class="topOfPage">return to top of page</span></a><br>
<hr size="2" noshade>
<center><font size="2">UNIX® is a registered Trademark of The Open Group.<br>
POSIX™ is a Trademark of The IEEE.<br>
Copyright © 2001-2024 The IEEE and The Open Group, All Rights Reserved<br>
[ <a href="../mindex.html">Main Index</a> | <a href="../basedefs/contents.html">XBD</a> | <a href=
"../functions/contents.html">XSH</a> | <a href="../utilities/contents.html">XCU</a> | <a href="../xrat/contents.html">XRAT</a>
]</font></center>
<hr size="2" noshade>
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../functions/atomic_load.html" accesskey="P">&lt;&lt;&lt;
Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../functions/atomic_store.html" accesskey="N">Next
&gt;&gt;&gt;</a></td>
</tr>
</table>
<hr align="left" width="100%"></div>
</body>
</html>
