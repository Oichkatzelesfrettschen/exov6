<!-- Copyright 2001-2024 IEEE and The Open Group, All Rights Reserved -->
<!DOCTYPE HTML>
<html lang="en">
<head>
<meta name="generator" content="HTML Tidy for HTML5 for Linux version 5.8.0">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link type="text/css" rel="stylesheet" href="style.css"><!-- Generated by The Open Group rhtm tool v1.2.4 -->
<!-- Copyright (c) 2001-2024 The Open Group, All Rights Reserved -->
<title>mtx_destroy</title>
</head>
<body bgcolor="white">
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../functions/msync.html" accesskey="P">&lt;&lt;&lt;
Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../functions/mtx_lock.html" accesskey="N">Next
&gt;&gt;&gt;</a></td>
</tr>
</table>
<hr align="left" width="100%"></div>
<script language="JavaScript" src="../jscript/codes.js"></script><basefont size="3">
<center><font size="2">The Open Group Base Specifications Issue 8<br>
IEEE Std 1003.1-2024<br>
Copyright © 2001-2024 The IEEE and The Open Group</font></center>
<hr size="2" noshade>
<a name="top" id="top"></a> <a name="mtx_destroy" id="mtx_destroy"></a> <a name="tag_17_361" id="tag_17_361"></a> 
<!-- mtx_destroy -->
<h4 class="mansect"><a name="tag_17_361_01" id="tag_17_361_01"></a>NAME</h4>
<blockquote>mtx_destroy, mtx_init — destroy and initialize a mutex</blockquote>
<h4 class="mansect"><a name="tag_17_361_02" id="tag_17_361_02"></a>SYNOPSIS</h4>
<blockquote class="synopsis">
<p><code><tt>#include &lt;<a href="../basedefs/threads.h.html">threads.h</a>&gt;<br>
<br>
void mtx_destroy(mtx_t *</tt><i>mtx</i><tt>);<br>
int mtx_init(mtx_t *</tt><i>mtx</i><tt>, int</tt> <i>type</i><tt>);<br></tt></code></p>
</blockquote>
<h4 class="mansect"><a name="tag_17_361_03" id="tag_17_361_03"></a>DESCRIPTION</h4>
<blockquote>
<div class="box"><sup>[<a href="javascript:open_code('CX')">CX</a>]</sup> <img src="../images/opt-start.gif" alt="[Option Start]"
border="0"> The functionality described on this reference page is aligned with the ISO&nbsp;C standard. Any conflict between the
requirements described here and the ISO&nbsp;C standard is unintentional. This volume of POSIX.1-2024 defers to the ISO&nbsp;C
standard. <img src="../images/opt-end.gif" alt="[Option End]" border="0"></div>
<p>The <i>mtx_destroy</i>() function shall release any resources used by the mutex pointed to by <i>mtx</i>. A destroyed mutex
object can be reinitialized using <i>mtx_init</i>(); the results of otherwise referencing the object after it has been destroyed
are undefined. It shall be safe to destroy an initialized mutex that is unlocked. Attempting to destroy a locked mutex, or a mutex
that another thread is attempting to lock, or a mutex that is being used in a <a href=
"../functions/cnd_timedwait.html"><i>cnd_timedwait</i>()</a> or <a href="../functions/cnd_wait.html"><i>cnd_wait</i>()</a> call by
another thread, results in undefined behavior. The behavior is undefined if the value specified by the <i>mtx</i> argument to
<i>mtx_destroy</i>() does not refer to an initialized mutex.</p>
<p>The <i>mtx_init</i>() function shall initialize a mutex object with properties indicated by <i>type</i>, whose valid values
include:</p>
<dl compact>
<dd></dd>
<dt><tt>mtx_plain</tt></dt>
<dd>for a simple non-recursive mutex,</dd>
<dt><tt>mtx_timed</tt></dt>
<dd>for a non-recursive mutex that supports timeout,</dd>
<dt><tt>mtx_plain|mtx_recursive</tt></dt>
<dd>for a simple recursive mutex, or</dd>
<dt><tt>mtx_timed|mtx_recursive</tt></dt>
<dd>for a recursive mutex that supports timeout.</dd>
</dl>
<p>If the <i>mtx_init</i>() function succeeds, it shall set the mutex pointed to by <i>mtx</i> to a value that uniquely identifies
the newly initialized mutex. Upon successful initialization, the state of the mutex shall become initialized and unlocked.
Attempting to initialize an already initialized mutex results in undefined behavior.</p>
<p><sup>[<a href="javascript:open_code('CX')">CX</a>]</sup> <img src="../images/opt-start.gif" alt="[Option Start]" border="0"> See
<a href="../functions/V2_chap02.html#tag_16_09_09"><i>2.9.9 Synchronization Object Copies and Alternative Mappings</i></a> for
further requirements.</p>
<p>These functions shall not be affected if the calling thread executes a signal handler during the call. <img src=
"../images/opt-end.gif" alt="[Option End]" border="0"></p>
</blockquote>
<h4 class="mansect"><a name="tag_17_361_04" id="tag_17_361_04"></a>RETURN VALUE</h4>
<blockquote>
<p>The <i>mtx_destroy</i>() function shall not return a value.</p>
<p>The <i>mtx_init</i>() function shall return <tt>thrd_success</tt> on success or <tt>thrd_error</tt> if the request could not be
honored.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_361_05" id="tag_17_361_05"></a>ERRORS</h4>
<blockquote>
<p>No errors are defined.</p>
</blockquote>
<hr>
<div class="box"><em>The following sections are informative.</em></div>
<h4 class="mansect"><a name="tag_17_361_06" id="tag_17_361_06"></a>EXAMPLES</h4>
<blockquote>
<p>None.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_361_07" id="tag_17_361_07"></a>APPLICATION USAGE</h4>
<blockquote>
<p>A mutex can be destroyed immediately after it is unlocked. However, since attempting to destroy a locked mutex, or a mutex that
another thread is attempting to lock, or a mutex that is being used in a <a href=
"../functions/cnd_timedwait.html"><i>cnd_timedwait</i>()</a> or <a href="../functions/cnd_wait.html"><i>cnd_wait</i>()</a> call by
another thread results in undefined behavior, care must be taken to ensure that no other thread may be referencing the mutex.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_361_08" id="tag_17_361_08"></a>RATIONALE</h4>
<blockquote>
<p>These functions are not affected by signal handlers for the reasons stated in XRAT <a href=
"../xrat/V4_xsh_chap01.html#tag_22_02_03"><i>B.2.3 Error Numbers</i></a>.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_361_09" id="tag_17_361_09"></a>FUTURE DIRECTIONS</h4>
<blockquote>
<p>None.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_361_10" id="tag_17_361_10"></a>SEE ALSO</h4>
<blockquote>
<p><a href="../functions/cnd_timedwait.html#"><i>cnd_timedwait</i>()</a>, <a href=
"../functions/mtx_lock.html#"><i>mtx_lock</i>()</a></p>
<p>XBD <a href="../basedefs/threads.h.html"><i>&lt;threads.h&gt;</i></a></p>
</blockquote>
<h4 class="mansect"><a name="tag_17_361_11" id="tag_17_361_11"></a>CHANGE HISTORY</h4>
<blockquote>
<p>First released in Issue 8. Included for alignment with the ISO/IEC&nbsp;9899:2018 standard.</p>
</blockquote>
<div class="box"><em>End of informative text.</em></div>
<hr>
<p>&nbsp;</p>
<a href="#top"><span class="topOfPage">return to top of page</span></a><br>
<hr size="2" noshade>
<center><font size="2">UNIX® is a registered Trademark of The Open Group.<br>
POSIX™ is a Trademark of The IEEE.<br>
Copyright © 2001-2024 The IEEE and The Open Group, All Rights Reserved<br>
[ <a href="../mindex.html">Main Index</a> | <a href="../basedefs/contents.html">XBD</a> | <a href=
"../functions/contents.html">XSH</a> | <a href="../utilities/contents.html">XCU</a> | <a href="../xrat/contents.html">XRAT</a>
]</font></center>
<hr size="2" noshade>
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../functions/msync.html" accesskey="P">&lt;&lt;&lt;
Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../functions/mtx_lock.html" accesskey="N">Next
&gt;&gt;&gt;</a></td>
</tr>
</table>
<hr align="left" width="100%"></div>
</body>
</html>
