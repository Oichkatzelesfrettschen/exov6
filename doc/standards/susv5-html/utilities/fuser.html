<!-- Copyright 2001-2024 IEEE and The Open Group, All Rights Reserved -->
<!DOCTYPE HTML>
<html lang="en">
<head>
<meta name="generator" content="HTML Tidy for HTML5 for Linux version 5.8.0">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link type="text/css" rel="stylesheet" href="style.css"><!-- Generated by The Open Group rhtm tool v1.2.4 -->
<!-- Copyright (c) 2001-2024 The Open Group, All Rights Reserved -->
<title>fuser</title>
</head>
<body bgcolor="white">
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../utilities/fold.html" accesskey="P">&lt;&lt;&lt;
Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../utilities/gencat.html" accesskey="N">Next
&gt;&gt;&gt;</a></td>
</tr>
</table>
<hr align="left" width="100%"></div>
<script language="JavaScript" src="../jscript/codes.js"></script><basefont size="3">
<center><font size="2">The Open Group Base Specifications Issue 8<br>
IEEE Std 1003.1-2024<br>
Copyright © 2001-2024 The IEEE and The Open Group</font></center>
<hr size="2" noshade>
<a name="top" id="top"></a> <a name="fuser" id="fuser"></a> <a name="tag_20_49" id="tag_20_49"></a><!-- fuser -->
<h4 class="mansect"><a name="tag_20_49_01" id="tag_20_49_01"></a>NAME</h4>
<blockquote>fuser — list process IDs of all processes that are using one or more named files</blockquote>
<h4 class="mansect"><a name="tag_20_49_02" id="tag_20_49_02"></a>SYNOPSIS</h4>
<blockquote class="synopsis">
<div class="box"><code><tt><sup>[<a href="javascript:open_code('XSI')">XSI</a>]</sup> <img src="../images/opt-start.gif" alt=
"[Option Start]" border="0"> fuser</tt> <b>[</b><tt>-cfu</tt><b>]</b> <i>file</i><tt>... <img src="../images/opt-end.gif" alt=
"[Option End]" border="0"></tt></code></div>
</blockquote>
<h4 class="mansect"><a name="tag_20_49_03" id="tag_20_49_03"></a>DESCRIPTION</h4>
<blockquote>
<p>For each <i>file</i> operand, in order, <i>fuser</i> shall write one line of output, some of it to standard output, and the rest
to standard error, giving information about processes running on the local system that are using the file. A process shall be
considered to be using a file if it has at least one open file descriptor associated with the file or if the file is a directory
that is the current working directory or the root directory for the process, and may be considered to be using a file for other
implementation-dependent reasons. If <i>file</i> names a block special device that contains a mounted file system, and the
<b>-f</b> option is not specified, any processes using any file on that mounted file system and any processes that are using the
device file itself shall be listed.</p>
<p>Any output for processes running on remote systems that are using a named file is unspecified.</p>
<p>A user may need appropriate privileges to invoke the <i>fuser</i> utility.</p>
<p>When standard output and standard error are directed to the same file, the output for each <i>file</i> operand shall be
interleaved so that it is written to the file in the following order:</p>
<ul>
<li>
<p>On standard error, a pathname for the file, immediately followed by a &lt;colon&gt; and zero or more &lt;blank&gt; characters.
The pathname shall be either the file operand (unaltered) or the pathname that would result from a successful call to the <a href=
"../functions/realpath.html"><i>realpath</i>()</a> function, defined in the System Interfaces volume of POSIX.1-2024, with the
<i>file</i> operand as its <i>file_name</i> argument.</p>
</li>
<li>
<p>For each process using the file:</p>
<ul>
<li>
<p>On standard output, the process ID in the format:</p>
<pre>
<tt>" %1d", &lt;</tt><i>process ID</i><tt>&gt;
</tt></pre></li>
<li>
<p>On standard error, information about the file's use by the process, in the following format:</p>
<pre>
<tt>"%s", &lt;</tt><i>use chars</i><tt>&gt;
</tt></pre>
<p>if the <b>-u</b> option is not specified, or in the following format:</p>
<pre>
<tt>"%s(%s)", &lt;</tt><i>use chars</i><tt>&gt;, &lt;</tt><i>user name</i><tt>&gt;
</tt></pre>
<p>if the <b>-u</b> option is specified, where &lt;<i>use chars</i>&gt; is a string of zero or more characters indicating the use
of the file and &lt;<i>user name</i>&gt; is the user name corresponding to the real user ID of the process or, if the user name
cannot be resolved from the real user ID of the process, the real user ID of the process in decimal. The value of &lt;<i>use
chars</i>&gt; shall include the character <tt>'c'</tt> if the process is using the file as its current directory and the character
<tt>'r'</tt> if the process is using the file as its root directory; implementations may include other alphabetic characters to
indicate other uses of the file.</p>
</li>
</ul>
</li>
<li>
<p>On standard error, a &lt;newline&gt; character.</p>
</li>
</ul>
<p>When standard output and standard error are not directed to the same file, the data written to each shall be as described above
but the ordering of writes to standard output relative to writes to standard error is unspecified. For example, <i>fuser</i> might
first write the information for all file operands to standard error and then write all of the process IDs to standard output.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_49_04" id="tag_20_49_04"></a>OPTIONS</h4>
<blockquote>
<p>The <i>fuser</i> utility shall conform to XBD <a href="../basedefs/V1_chap12.html#tag_12_02"><i>12.2 Utility Syntax
Guidelines</i></a>.</p>
<p>The following options shall be supported:</p>
<dl compact>
<dd></dd>
<dt><b>-c</b></dt>
<dd>If a <i>file</i> operand names a directory that is the mount point of a mounted file system, all processes using any file on
that file system shall be listed as if they were using the named directory. The behavior for any <i>file</i> operand that names an
existing file that is not the mount point of a mounted file system is unspecified.</dd>
<dt><b>-f</b></dt>
<dd>The report shall be only for the named files.</dd>
<dt><b>-u</b></dt>
<dd>The user name, in parentheses, associated with each process ID written to standard output shall be written to standard
error.</dd>
</dl>
</blockquote>
<h4 class="mansect"><a name="tag_20_49_05" id="tag_20_49_05"></a>OPERANDS</h4>
<blockquote>
<p>The following operand shall be supported:</p>
<dl compact>
<dd></dd>
<dt><i>file</i></dt>
<dd>A pathname of a file for which the processes using the file are to be reported.</dd>
</dl>
</blockquote>
<h4 class="mansect"><a name="tag_20_49_06" id="tag_20_49_06"></a>STDIN</h4>
<blockquote>
<p>Not used.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_49_07" id="tag_20_49_07"></a>INPUT FILES</h4>
<blockquote>
<p>The user database.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_49_08" id="tag_20_49_08"></a>ENVIRONMENT VARIABLES</h4>
<blockquote>
<p>The following environment variables shall affect the execution of <i>fuser</i>:</p>
<dl compact>
<dd></dd>
<dt><i>LANG</i></dt>
<dd>Provide a default value for the internationalization variables that are unset or null. (See XBD <a href=
"../basedefs/V1_chap08.html#tag_08_02"><i>8.2 Internationalization Variables</i></a> for the precedence of internationalization
variables used to determine the values of locale categories.)</dd>
<dt><i>LC_ALL</i></dt>
<dd>If set to a non-empty string value, override the values of all the other internationalization variables.</dd>
<dt><i>LC_CTYPE</i></dt>
<dd>Determine the locale for the interpretation of sequences of bytes of text data as characters (for example, single-byte as
opposed to multi-byte characters in arguments).</dd>
<dt><i>LC_MESSAGES</i></dt>
<dd><br>
Determine the locale that should be used to affect the format and contents of diagnostic messages written to standard error.</dd>
<dt><i>NLSPATH</i></dt>
<dd>Determine the location of messages objects and message catalogs.</dd>
</dl>
</blockquote>
<h4 class="mansect"><a name="tag_20_49_09" id="tag_20_49_09"></a>ASYNCHRONOUS EVENTS</h4>
<blockquote>
<p>Default.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_49_10" id="tag_20_49_10"></a>STDOUT</h4>
<blockquote>
<p>See DESCRIPTION.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_49_11" id="tag_20_49_11"></a>STDERR</h4>
<blockquote>
<p>The <i>fuser</i> utility shall write diagnostic messages to standard error.</p>
<p>The <i>fuser</i> utility also shall write information to standard error as specified in the DESCRIPTION section.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_49_12" id="tag_20_49_12"></a>OUTPUT FILES</h4>
<blockquote>
<p>None.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_49_13" id="tag_20_49_13"></a>EXTENDED DESCRIPTION</h4>
<blockquote>
<p>None.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_49_14" id="tag_20_49_14"></a>EXIT STATUS</h4>
<blockquote>
<p>The following exit values shall be returned:</p>
<dl compact>
<dd></dd>
<dt>&nbsp;0</dt>
<dd>Successful completion.</dd>
<dt>&gt;0</dt>
<dd>An error occurred.</dd>
</dl>
</blockquote>
<h4 class="mansect"><a name="tag_20_49_15" id="tag_20_49_15"></a>CONSEQUENCES OF ERRORS</h4>
<blockquote>
<p>Default.</p>
</blockquote>
<hr>
<div class="box"><em>The following sections are informative.</em></div>
<h4 class="mansect"><a name="tag_20_49_16" id="tag_20_49_16"></a>APPLICATION USAGE</h4>
<blockquote>
<p>Things can change while <i>fuser</i> is running; the snapshot it gives is only true for an instant, and might not be accurate by
the time it is displayed.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_49_17" id="tag_20_49_17"></a>EXAMPLES</h4>
<blockquote>
<p>The command:</p>
<pre>
<tt>fuser -fu .
</tt></pre>
<p>writes to standard output the process IDs of processes that are using the current directory and writes to standard error an
indication of how those processes are using the directory and the user names associated with the processes that are using the
current directory.</p>
<pre>
<tt>fuser -c &lt;</tt><i>mount point</i><tt>&gt;
</tt></pre>
<p>writes to standard output the process IDs of processes that are using any file in the file system which is mounted on
&lt;<i>mount point</i>&gt; and writes to standard error an indication of how those processes are using the files.</p>
<pre>
<tt>fuser &lt;</tt><i>mount point</i><tt>&gt;
</tt></pre>
<p>writes to standard output the process IDs of processes that are using the file which is named by &lt;<i>mount point</i>&gt; and
writes to standard error an indication of how those processes are using the file.</p>
<pre>
<tt>fuser &lt;</tt><i>mounted block device</i><tt>&gt;
</tt></pre>
<p>writes to standard output the process IDs of processes that are using any file on the mounted file system contained by
&lt;<i>mounted block device</i>&gt; and of processes that are using the device file &lt;<i>mounted block device</i>&gt; itself, and
writes to standard error an indication of how those processes are using the files.</p>
<pre>
<tt>fuser -f &lt;</tt><i>mounted block device</i><tt>&gt;
</tt></pre>
<p>writes to standard output the process IDs of processes that are using the file &lt;<i>mounted block device</i>&gt; itself and
writes to standard error an indication of how those processes are using the file.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_49_18" id="tag_20_49_18"></a>RATIONALE</h4>
<blockquote>
<p>The definition of the <i>fuser</i> utility follows existing practice.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_49_19" id="tag_20_49_19"></a>FUTURE DIRECTIONS</h4>
<blockquote>
<p>If this utility is directed to display a pathname that contains any bytes that have the encoded value of a &lt;newline&gt;
character when &lt;newline&gt; is a terminator or separator in the output format being used, implementations are encouraged to
treat this as an error. A future version of this standard may require implementations to treat this as an error.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_49_20" id="tag_20_49_20"></a>SEE ALSO</h4>
<blockquote>
<p>XBD <a href="../basedefs/V1_chap08.html#tag_08"><i>8. Environment Variables</i></a>, <a href=
"../basedefs/V1_chap12.html#tag_12_02"><i>12.2 Utility Syntax Guidelines</i></a></p>
</blockquote>
<h4 class="mansect"><a name="tag_20_49_21" id="tag_20_49_21"></a>CHANGE HISTORY</h4>
<blockquote>
<p>First released in Issue 5.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_49_22" id="tag_20_49_22"></a>Issue 7</h4>
<blockquote>
<p>SD5-XCU-ERN-90 is applied, updating the EXAMPLES section.</p>
<p>SD5-XCU-ERN-97 is applied, updating the SYNOPSIS.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_49_23" id="tag_20_49_23"></a>Issue 8</h4>
<blockquote>
<p>Austin Group Defect 251 is applied, encouraging implementations to report an error if a utility is directed to display a
pathname that contains any bytes that have the encoded value of a &lt;newline&gt; character when &lt;newline&gt; is a terminator or
separator in the output format being used.</p>
<p>Austin Group Defect 1122 is applied, changing the description of <i>NLSPATH .</i></p>
<p>Austin Group Defect 1746 is applied, clarifying the output written to standard output and standard error.</p>
</blockquote>
<div class="box"><em>End of informative text.</em></div>
<hr>
<p>&nbsp;</p>
<a href="#top"><span class="topOfPage">return to top of page</span></a><br>
<hr size="2" noshade>
<center><font size="2">UNIX® is a registered Trademark of The Open Group.<br>
POSIX™ is a Trademark of The IEEE.<br>
Copyright © 2001-2024 The IEEE and The Open Group, All Rights Reserved<br>
[ <a href="../mindex.html">Main Index</a> | <a href="../basedefs/contents.html">XBD</a> | <a href=
"../functions/contents.html">XSH</a> | <a href="../utilities/contents.html">XCU</a> | <a href="../xrat/contents.html">XRAT</a>
]</font></center>
<hr size="2" noshade>
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../utilities/fold.html" accesskey="P">&lt;&lt;&lt;
Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../utilities/gencat.html" accesskey="N">Next
&gt;&gt;&gt;</a></td>
</tr>
</table>
<hr align="left" width="100%"></div>
</body>
</html>
