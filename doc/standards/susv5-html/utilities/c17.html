<!-- Copyright 2001-2024 IEEE and The Open Group, All Rights Reserved -->
<!DOCTYPE HTML>
<html lang="en">
<head>
<meta name="generator" content="HTML Tidy for HTML5 for Linux version 5.8.0">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link type="text/css" rel="stylesheet" href="style.css"><!-- Generated by The Open Group rhtm tool v1.2.4 -->
<!-- Copyright (c) 2001-2024 The Open Group, All Rights Reserved -->
<title>c17</title>
</head>
<body bgcolor="white">
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../utilities/bg.html" accesskey="P">&lt;&lt;&lt;
Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../utilities/cal.html" accesskey="N">Next &gt;&gt;&gt;</a></td>
</tr>
</table>
<hr align="left" width="100%"></div>
<script language="JavaScript" src="../jscript/codes.js"></script><basefont size="3">
<center><font size="2">The Open Group Base Specifications Issue 8<br>
IEEE Std 1003.1-2024<br>
Copyright © 2001-2024 The IEEE and The Open Group</font></center>
<hr size="2" noshade>
<a name="top" id="top"></a> <a name="c17" id="c17"></a> <a name="tag_20_11" id="tag_20_11"></a><!-- c17 -->
<h4 class="mansect"><a name="tag_20_11_01" id="tag_20_11_01"></a>NAME</h4>
<blockquote>c17 — compile standard C programs</blockquote>
<h4 class="mansect"><a name="tag_20_11_02" id="tag_20_11_02"></a>SYNOPSIS</h4>
<blockquote class="synopsis">
<div class="box"><code><tt><sup>[<a href="javascript:open_code('CD')">CD</a>]</sup> <img src="../images/opt-start.gif" alt=
"[Option Start]" border="0"> c17</tt> <b>[</b><i>options</i><tt>...</tt><b>]</b> <i>pathname</i> <b>[[</b><i>pathname</i><b>]
[</b><tt>-I</tt> <i>directory</i><b>]<br></b> <tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt> <b>[</b><tt>-L</tt>
<i>directory</i><b>] [</b><tt>-l</tt> <i>library</i><b>] [</b><tt>-R</tt> <i>directory</i><b>]]</b><tt>... <img src=
"../images/opt-end.gif" alt="[Option End]" border="0"></tt></code></div>
</blockquote>
<h4 class="mansect"><a name="tag_20_11_03" id="tag_20_11_03"></a>DESCRIPTION</h4>
<blockquote>
<p>The <i>c17</i> utility is an interface to the standard C compilation system; it shall accept source code written in the C
language as defined in section 6 of the ISO&nbsp;C standard. The system conceptually consists of a compilation phase, encompassing
Translation Phases 1 through 7 of the ISO&nbsp;C standard, and a linkage phase, for handling Phase 8 of the ISO&nbsp;C standard and
extensions described here. The reference to &quot;library components&quot; in Phase 8 shall be taken to refer to components of libraries
specified using the <b>-l</b> option, libraries specified as <i>file</i><b>.a</b> or <i>file</i><b>.so</b> operands, and the
equivalent of a <b>-l c</b> option passed to the link editor in the manner specified in the EXTENDED DESCRIPTION. In addition, the
compilation phase can be split into a separate preprocessing operation, handling Translation Phases 1 through 4, and a processing
operation, handling Phases 5 though 7. Whether a single utility or multiple utilities for handling phases separately is provided by
an implementation is left unspecified. The input files referenced by <i>pathname</i> operands and <b>-l</b> option-arguments shall
be compiled and linked to produce an executable file or, if the <b>-G</b> option is specified, a shared library file. It is
unspecified whether the linking of an executable file occurs entirely within the operation of <i>c17</i>; when a <i>pathname</i>
operand or <b>-l</b> option-argument names a shared library, an executable object may be produced that is not fully resolved until
the file is executed.</p>
<p>If the <b>-c</b> option is specified and the <b>-o</b> option is not specified, for all <i>pathname</i> operands of the form
<i>file</i><b>.c</b> or <i>file</i><b>.i</b>, the files:</p>
<pre>
<tt>$(basename </tt><i>pathname</i><tt> .c).o
</tt></pre>
<p>or</p>
<pre>
<tt>$(basename </tt><i>pathname</i><tt> .i).o
</tt></pre>
<p>respectively shall be created as the result of successful compilation. If the <b>-c</b> option is not specified, it is
unspecified whether such <b>.o</b> files are created or deleted for the <i>file</i><b>.c</b> and <i>file</i><b>.i</b> operands.</p>
<p>If there are no options that prevent link editing (such as <b>-c</b> or <b>-E</b>), and all input files compile and link without
error, the resulting executable file or shared library file shall be written according to the <b>-o</b> <i>outfile</i> option, if
present. If <b>-o</b> <i>outfile</i> is not specified, a resulting executable file shall be written to the file <b>a.out</b>; if
the file to be written is a shared library file, the behavior is unspecified.</p>
<p>Executable files shall be created as specified in <a href="../utilities/V3_chap01.html#tag_18_01_01_04"><i>1.1.1.4 File Read,
Write, and Creation</i></a>, except that the file permission bits shall be set to: S_IRWXO | S_IRWXG | S_IRWXU</p>
<p>and the bits specified by the <a href="../utilities/umask.html"><i>umask</i></a> of the process shall be cleared.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_11_04" id="tag_20_11_04"></a>OPTIONS</h4>
<blockquote>
<p>The <i>c17</i> utility shall conform to XBD <a href="../basedefs/V1_chap12.html#tag_12_02"><i>12.2 Utility Syntax
Guidelines</i></a>, except that:</p>
<ul>
<li>
<p>Options can be interspersed with operands.</p>
</li>
<li>
<p>The order of specifying the <b>-L</b>, <b>-l</b>, and <b>-R</b> options, and the order of specifying <b>-l</b> options with
respect to <i>pathname</i> operands is significant.</p>
</li>
<li>
<p>Conforming applications shall specify each option separately; that is, grouping option letters (for example, <b>-cO</b>) need
not be recognized by all implementations.</p>
</li>
</ul>
<p>The following options shall be supported:</p>
<dl compact>
<dd></dd>
<dt><b>-B&nbsp;</b><i>mode</i></dt>
<dd>If <i>mode</i> is <b>dynamic</b>, produce a dynamically linked executable file. If the <b>-B</b> option is present with
<b>-c</b>, <b>-E</b>, or <b>-G</b>, the result is unspecified.</dd>
<dt><b>-c</b></dt>
<dd>Suppress the link-edit phase of the compilation, and do not remove any object files that are produced. The application shall
ensure that all operands are of the form <i>file</i><b>.c</b> or <i>file</i><b>.i</b>.</dd>
<dt><b>-D&nbsp;</b><i>name</i><b>[=</b><i>value</i><b>]</b></dt>
<dd><br>
Define <i>name</i> as if by a C-language <b>#define</b> directive. If no =<i>value</i> is given, a value of 1 shall be used. The
<b>-D</b> option has lower precedence than the <b>-U</b> option. That is, if <i>name</i> is used in both a <b>-U</b> and a
<b>-D</b> option, <i>name</i> shall be undefined regardless of the order of the options. Additional implementation-defined
<i>name</i>s may be provided by the compiler. Implementations shall support at least 2048 bytes of <b>-D</b> definitions and 256
<i>names</i>.</dd>
<dt><b>-E</b></dt>
<dd>Copy C-language source files to standard output, executing all preprocessor directives; no compilation shall be performed. If
any operand is not a text file, the effects are unspecified.</dd>
<dt><b>-G</b></dt>
<dd>Create a shared library or create object files suitable for inclusion in such a shared library. Compilations shall be performed
in a manner suitable for the creation of shared libraries (for example, by producing position-independent code).
<p>If <b>-c</b> is also specified, create object files suitable for inclusion in a shared library.</p>
<p>If <b>-c</b> is not specified, create a shared library. In this case the application shall ensure that the file named by the
<b>-o</b> <i>outfile</i> option-argument includes an element named <b>so</b> or an implementation-defined element denoting a shared
library, where elements in the last component of <i>outfile</i> are separated by &lt;period&gt; characters, for example
<b>libx.so.1</b>; if no <b>-o</b> option is included in the options or the file named by the <b>-o</b> <i>outfile</i> option does
not contain an element named <b>so</b> or an implementation-defined element denoting a shared library, the result is unspecified.
If a <i>pathname</i> operand or <b>-l</b> option-argument names a shared library and that shared library defines an object used by
the library being created, it shall become a dependency of the created shared library.</p>
<p>If the <b>-G</b> option is present with <b>-B</b> or <b>-E</b>, the result is unspecified.</p>
</dd>
<dt><b>-g</b></dt>
<dd>Produce symbolic information in the object or executable files; the nature of this information is unspecified, and may be
modified by implementation-defined interactions with other options.</dd>
<dt><b>-I&nbsp;</b><i>directory</i></dt>
<dd>Change the algorithm for searching for headers whose names are not absolute pathnames to look in the directory named by the
<i>directory</i> pathname before looking in the usual places. Thus, headers whose names are enclosed in double-quotes (<tt>""</tt>)
shall be searched for first in the directory of the file with the <b>#include</b> line, then in directories named in <b>-I</b>
options, and last in the usual places. For headers whose names are enclosed in angle brackets (<tt>"&lt;&gt;"</tt>), the header
shall be searched for only in directories named in <b>-I</b> options and then in the usual places. Directories named in <b>-I</b>
options shall be searched in the order specified. If the <b>-I</b> option is used to specify a directory that is one of the usual
places searched by default, the results are unspecified. Implementations shall support at least ten instances of this option in a
single <i>c17</i> command invocation.</dd>
<dt><b>-L&nbsp;</b><i>directory</i></dt>
<dd>Change the algorithm of searching for the libraries named in the <b>-l</b> objects to look in the directory named by the
<i>directory</i> pathname before looking in the usual places. Directories named in <b>-L</b> options shall be searched in the order
specified. If the <b>-L</b> option is used to specify a directory that is one of the usual places searched by default, the results
are unspecified. Implementations shall support at least ten instances of this option in a single <i>c17</i> command invocation. If
a directory specified by a <b>-L</b> option contains files with names starting with any of the strings <tt>"libc."</tt>,
<tt>"libl."</tt>, <tt>"libpthread."</tt>, <tt>"libm."</tt>, <tt>"librt."</tt>, <tt>"libxnet."</tt>, or <tt>"liby."</tt>, the
results are unspecified.</dd>
<dt><b>-l&nbsp;</b><i>library</i></dt>
<dd>Search the library named <b>lib<i>library</i>.a</b> or <b>lib<i>library</i>.so</b>. When searching for a library, the linker
shall look at each directory specified by <b>-L</b> options that appear on the command line before this <b>-l</b> option, in the
order given, and then the system default libraries. If <b>lib<i>library</i>.a</b> and <b>lib<i>library</i>.so</b> both exist in a
directory, <i>c17</i> shall use <b>lib<i>library</i>.so</b> if either <b>-B dynamic</b> or <b>-G</b> is specified. Once a library
has been found (shared or static) in a directory, later directories in the list shall not be considered. A library shall be
searched when its name is encountered, so the placement of a <b>-l</b> option is significant. Several standard libraries can be
specified in this manner, as described in the EXTENDED DESCRIPTION section. Implementations may recognize implementation-defined
suffixes other than <b>.a</b> and <b>.so</b> as denoting libraries.</dd>
<dt><b>-O&nbsp;</b><i>optlevel</i></dt>
<dd>Specify the level of code optimization. If the <i>optlevel</i> option-argument is the digit <tt>'0'</tt>, all special code
optimizations shall be disabled. If it is the digit <tt>'1'</tt>, the nature of the optimization is unspecified. If the <b>-O</b>
option is omitted, the nature of the system's default optimization is unspecified. It is unspecified whether code generated in the
presence of the <b>-O</b> 0 option is the same as that generated when <b>-O</b> is omitted. Other <i>optlevel</i> values may be
supported.</dd>
<dt><b>-o&nbsp;</b><i>outfile</i></dt>
<dd>Name the output file to be produced. If the <b>-o</b> option is present with <b>-E</b>, or with <b>-c</b> and more than one
input file, the result is unspecified.
<p>When creating a single object file (by using <b>-c</b> with a single input file), use the pathname <i>outfile</i>, instead of
the default <i>file</i><b>.o</b>, for the object file produced.</p>
<p>When creating an executable file, use the pathname <i>outfile</i>, instead of the default <b>a.out</b>, for the executable file
produced.</p>
<p>When creating a shared library, use the pathname <i>outfile</i> as the name of the shared library. If no <b>-o</b>
<i>outfile</i> option is specified when creating a shared library, the result is unspecified.</p>
</dd>
<dt><b>-s</b></dt>
<dd>Produce object or executable files, or both, from which symbolic and other information not required for proper execution using
the <i>exec</i> family defined in the System Interfaces volume of POSIX.1-2024 has been removed (stripped). If both <b>-g</b> and
<b>-s</b> options are present, the action taken is unspecified.</dd>
<dt><b>-R&nbsp;</b><i>directory</i></dt>
<dd>If the object file format supports it, specify a directory to be searched for shared libraries when an executable file or
shared library being created by <i>c17</i> is subsequently executed, or loaded using <a href=
"../functions/dlopen.html"><i>dlopen</i>()</a>. If <i>directory</i> contains any &lt;colon&gt; or &lt;dollar-sign&gt; characters,
the behavior is unspecified. If an implementation provides a means for setting a default load time search location or locations,
the <b>-R</b> option shall take precedence.
<p>The directory named by <i>directory</i> shall not be searched by a process performing dynamic loading if either of the following
are true:</p>
<ul>
<li>
<p>The real and effective user IDs of that process are different and the directory has write permission for a user ID outside the
set of the effective user ID of that process and any implementation-specific user IDs used for directories containing system
libraries.</p>
</li>
<li>
<p>The real and effective group IDs of that process are different and the directory has write permission for group IDs other than
the effective group ID of that process.</p>
</li>
</ul>
<p>Directories named in <b>-R</b> options shall be searched in the order specified, before the default system library locations are
searched.</p>
<p>If a directory specified by a <b>-R</b> option contains files with names starting with any of the strings <tt>"libc."</tt>,
<tt>"libl."</tt>, <tt>"libpthread."</tt>, <tt>"libm."</tt>, <tt>"librt."</tt>, <tt>"libxnet."</tt>, or <tt>"liby."</tt>, the result
is unspecified.</p>
<p>If the <b>-R</b> option is present with <b>-c</b> or <b>-E</b>, the result is unspecified.</p>
</dd>
<dt><b>-U&nbsp;</b><i>name</i></dt>
<dd>Remove any initial definition of <i>name</i>.</dd>
</dl>
<p>Multiple instances of the <b>-D</b>, <b>-I</b>, <b>-L</b>, <b>-l</b>, <b>-R</b>, and <b>-U</b> options can be specified.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_11_05" id="tag_20_11_05"></a>OPERANDS</h4>
<blockquote>
<p>The application shall ensure that at least one <i>pathname</i> operand is specified. The following forms for <i>pathname</i>
operands shall be supported:</p>
<dl compact>
<dd></dd>
<dt><i>file.</i><b>c</b></dt>
<dd>A C-language source file to be compiled and optionally linked.</dd>
<dt><i>file.</i><b>i</b></dt>
<dd>A text file containing the output of <i>c17</i> <b>-E</b>, to be compiled and optionally linked. The processing already
performed by <i>c17</i> <b>-E</b> when the file was produced shall not be repeated when the file is compiled.</dd>
<dt><i>file.</i><b>a</b></dt>
<dd>A library of static object files typically produced by the <a href="../utilities/ar.html"><i>ar</i></a> utility, and referenced
during the link-edit phase. Implementations may recognize implementation-defined suffixes other than <b>.a</b> as denoting static
object file libraries.</dd>
<dt><i>file.</i><b>so</b></dt>
<dd>A library of shared object files typically produced by the <i>c17</i> utility with the <b>-G</b> option, and referenced during
the link-edit phase. Implementations may recognize implementation-defined suffixes other than <b>.so</b> as denoting shared object
file libraries.</dd>
<dt><i>file.</i><b>o</b></dt>
<dd>An object file produced by <i>c17</i> <b>-c</b> and passed directly to the link editor. Implementations may recognize
implementation-defined suffixes other than <b>.o</b> as denoting object files.</dd>
</dl>
<p>The processing of other files is implementation-defined.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_11_06" id="tag_20_11_06"></a>STDIN</h4>
<blockquote>
<p>Not used.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_11_07" id="tag_20_11_07"></a>INPUT FILES</h4>
<blockquote>
<p>Each input file shall be one of the following:</p>
<ul>
<li>
<p>A text file containing a C-language source program or the output of <i>c17</i> <b>-E</b></p>
</li>
<li>
<p>An object file in the format produced by <i>c17</i> <b>-c</b></p>
</li>
<li>
<p>A library of object files in the format produced by archiving zero or more object files using <a href=
"../utilities/ar.html"><i>ar</i></a></p>
</li>
<li>
<p>A shared library in the format produced by <i>c17</i> <b>-G</b></p>
</li>
</ul>
<p>Implementations may supply additional utilities that produce files in these formats. Additional input file formats are
implementation-defined.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_11_08" id="tag_20_11_08"></a>ENVIRONMENT VARIABLES</h4>
<blockquote>
<p>The following environment variables shall affect the execution of <i>c17</i>:</p>
<dl compact>
<dd></dd>
<dt><i>LANG</i></dt>
<dd>Provide a default value for the internationalization variables that are unset or null. (See XBD <a href=
"../basedefs/V1_chap08.html#tag_08_02"><i>8.2 Internationalization Variables</i></a> for the precedence of internationalization
variables used to determine the values of locale categories.)</dd>
<dt><i>LC_ALL</i></dt>
<dd>If set to a non-empty string value, override the values of all the other internationalization variables.</dd>
<dt><i>LC_CTYPE</i></dt>
<dd>Determine the locale for the interpretation of sequences of bytes of text data as characters (for example, single-byte as
opposed to multi-byte characters in arguments and input files).</dd>
<dt><i>LC_MESSAGES</i></dt>
<dd><br>
Determine the locale that should be used to affect the format and contents of diagnostic messages written to standard error.</dd>
<dt><i>NLSPATH</i></dt>
<dd><sup>[<a href="javascript:open_code('XSI')">XSI</a>]</sup> <img src="../images/opt-start.gif" alt="[Option Start]" border="0">
Determine the location of messages objects and message catalogs. <img src="../images/opt-end.gif" alt="[Option End]" border=
"0"></dd>
<dt><i>TMPDIR</i></dt>
<dd>Provide a pathname that should override the default directory for temporary files, if any. <sup>[<a href=
"javascript:open_code('XSI')">XSI</a>]</sup> <img src="../images/opt-start.gif" alt="[Option Start]" border="0"> &nbsp;On
XSI-conforming systems, provide a pathname that shall override the default directory for temporary files, if any. <img src=
"../images/opt-end.gif" alt="[Option End]" border="0"></dd>
</dl>
</blockquote>
<h4 class="mansect"><a name="tag_20_11_09" id="tag_20_11_09"></a>ASYNCHRONOUS EVENTS</h4>
<blockquote>
<p>Default.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_11_10" id="tag_20_11_10"></a>STDOUT</h4>
<blockquote>
<p>If more than one <i>pathname</i> operand ending in <b>.c</b> or <b>.i</b> (or possibly other unspecified suffixes) is given, for
each such file:</p>
<pre>
<tt>"%s:\n", &lt;</tt><i>pathname</i><tt>&gt;
</tt></pre>
<p>may be written. These messages, if written, shall precede the processing of each input file; they shall not be written to the
standard output if they are written to the standard error, as described in the STDERR section.</p>
<p>If the <b>-E</b> option is specified, the standard output shall be a text file that represents the results of the preprocessing
stage of the language; it may contain extra information appropriate for subsequent compilation passes and shall contain at least
one line with the format:</p>
<pre>
<tt>"# %d \"%s\"\n", &lt;</tt><i>line</i><tt>&gt;, &lt;</tt><i>pathname</i><tt>&gt;
</tt></pre>
<p>for each file processed as a result of a <b>#include</b> directive, unless no other output generated from that file is present
in the output, where <i>line</i> is a line number and <i>pathname</i> is the pathname used to open the file.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_11_11" id="tag_20_11_11"></a>STDERR</h4>
<blockquote>
<p>The standard error shall be used only for diagnostic messages, except that if more than one <i>pathname</i> operand ending in
<b>.c</b> or <b>.i</b> (or possibly other unspecified suffixes) is given, for each such file:</p>
<pre>
<tt>"%s:\n", &lt;</tt><i>pathname</i><tt>&gt;
</tt></pre>
<p>may be written to allow identification of the diagnostic and warning messages with the appropriate input file. These messages,
if written, shall precede the processing of each input file; they shall not be written to the standard error if they are written to
the standard output, as described in the STDOUT section.</p>
<p>This utility may produce warning messages about certain conditions that do not warrant returning an error (non-zero) exit
value.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_11_12" id="tag_20_11_12"></a>OUTPUT FILES</h4>
<blockquote>
<p>Object files or executable files or both are produced in unspecified formats. If the pathname of an object file or executable
file to be created by <i>c17</i> resolves to an existing directory entry for a file that is not a regular file, it is unspecified
whether <i>c17</i> shall attempt to create the file or shall issue a diagnostic and exit with a non-zero exit status.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_11_13" id="tag_20_11_13"></a>EXTENDED DESCRIPTION</h4>
<blockquote>
<h5><a name="tag_20_11_13_01" id="tag_20_11_13_01"></a>Standard Libraries</h5>
<p>The <i>c17</i> utility shall recognize the following <b>-l</b> options for standard libraries:</p>
<dl compact>
<dd></dd>
<dt><b>-l&nbsp;c</b></dt>
<dd>This option shall make available all interfaces referenced in the System Interfaces volume of POSIX.1-2024, with the possible
exception of those interfaces listed as residing in <a href="../basedefs/aio.h.html"><i>&lt;aio.h&gt;</i></a>, <a href=
"../basedefs/arpa_inet.h.html"><i>&lt;arpa/inet.h&gt;</i></a>, <a href="../basedefs/complex.h.html"><i>&lt;complex.h&gt;</i></a>,
<a href="../basedefs/fenv.h.html"><i>&lt;fenv.h&gt;</i></a>, <a href="../basedefs/math.h.html"><i>&lt;math.h&gt;</i></a>, <a href=
"../basedefs/mqueue.h.html"><i>&lt;mqueue.h&gt;</i></a>, <a href="../basedefs/netdb.h.html"><i>&lt;netdb.h&gt;</i></a>, <a href=
"../basedefs/net_if.h.html"><i>&lt;net/if.h&gt;</i></a>, <a href="../basedefs/netinet_in.h.html"><i>&lt;netinet/in.h&gt;</i></a>,
<a href="../basedefs/pthread.h.html"><i>&lt;pthread.h&gt;</i></a>, <a href="../basedefs/sched.h.html"><i>&lt;sched.h&gt;</i></a>,
<a href="../basedefs/semaphore.h.html"><i>&lt;semaphore.h&gt;</i></a>, <a href=
"../basedefs/spawn.h.html"><i>&lt;spawn.h&gt;</i></a>, <a href="../basedefs/sys_socket.h.html"><i>&lt;sys/socket.h&gt;</i></a>,
<a href="../basedefs/threads.h.html"><i>&lt;threads.h&gt;</i></a>, <a href=
"../functions/pthread_kill.html"><i>pthread_kill</i>()</a> and <a href=
"../functions/pthread_sigmask.html"><i>pthread_sigmask</i>()</a> in <a href=
"../basedefs/signal.h.html"><i>&lt;signal.h&gt;</i></a>, interfaces marked as optional in <a href=
"../basedefs/sys_mman.h.html"><i>&lt;sys/mman.h&gt;</i></a>, interfaces marked as ADV (Advisory Information) in <a href=
"../basedefs/fcntl.h.html"><i>&lt;fcntl.h&gt;</i></a>, and interfaces beginning with the prefix clock_ or timer_ in <a href=
"../basedefs/time.h.html"><i>&lt;time.h&gt;</i></a>. This option shall not be required to be present to cause a search of this
library.</dd>
<dt><b>-l&nbsp;l</b></dt>
<dd>This option shall make available all interfaces required by the C-language output of <a href=
"../utilities/lex.html"><i>lex</i></a> that are not made available through the <b>-l&nbsp;c</b> option.</dd>
<dt><b>-l&nbsp;pthread</b></dt>
<dd>This option shall make available all interfaces referenced in <a href="../basedefs/pthread.h.html"><i>&lt;pthread.h&gt;</i></a>
and <a href="../basedefs/threads.h.html"><i>&lt;threads.h&gt;</i></a>, and also <a href=
"../functions/pthread_kill.html"><i>pthread_kill</i>()</a> and <a href=
"../functions/pthread_sigmask.html"><i>pthread_sigmask</i>()</a> referenced in <a href=
"../basedefs/signal.h.html"><i>&lt;signal.h&gt;</i></a>. An implementation may search this library in the absence of this
option.</dd>
<dt><b>-l&nbsp;m</b></dt>
<dd>This option shall make available all interfaces referenced in <a href="../basedefs/math.h.html"><i>&lt;math.h&gt;</i></a>,
<a href="../basedefs/complex.h.html"><i>&lt;complex.h&gt;</i></a>, and <a href="../basedefs/fenv.h.html"><i>&lt;fenv.h&gt;</i></a>.
An implementation may search this library in the absence of this option.</dd>
<dt><b>-l&nbsp;rt</b></dt>
<dd>This option shall make available all interfaces referenced in <a href="../basedefs/aio.h.html"><i>&lt;aio.h&gt;</i></a>,
<a href="../basedefs/mqueue.h.html"><i>&lt;mqueue.h&gt;</i></a>, <a href="../basedefs/sched.h.html"><i>&lt;sched.h&gt;</i></a>,
<a href="../basedefs/semaphore.h.html"><i>&lt;semaphore.h&gt;</i></a>, and <a href=
"../basedefs/spawn.h.html"><i>&lt;spawn.h&gt;</i></a>, interfaces marked as optional in <a href=
"../basedefs/sys_mman.h.html"><i>&lt;sys/mman.h&gt;</i></a>, interfaces marked as ADV (Advisory Information) in <a href=
"../basedefs/fcntl.h.html"><i>&lt;fcntl.h&gt;</i></a>, and interfaces beginning with the prefix clock_ and timer_ in <a href=
"../basedefs/time.h.html"><i>&lt;time.h&gt;</i></a>. An implementation may search this library in the absence of this option.</dd>
<dt><b>-l&nbsp;xnet</b></dt>
<dd>This option shall make available all interfaces referenced in <a href=
"../basedefs/arpa_inet.h.html"><i>&lt;arpa/inet.h&gt;</i></a>, <a href="../basedefs/netdb.h.html"><i>&lt;netdb.h&gt;</i></a>,
<a href="../basedefs/net_if.h.html"><i>&lt;net/if.h&gt;</i></a>, <a href=
"../basedefs/netinet_in.h.html"><i>&lt;netinet/in.h&gt;</i></a>, and <a href=
"../basedefs/sys_socket.h.html"><i>&lt;sys/socket.h&gt;</i></a>. An implementation may search this library in the absence of this
option.</dd>
<dt><b>-l&nbsp;y</b></dt>
<dd>This option shall make available all interfaces required by the C-language output of <a href=
"../utilities/yacc.html"><i>yacc</i></a> that are not made available through the <b>-l&nbsp;c</b> option.</dd>
</dl>
<p>In the absence of options that inhibit invocation of the link editor, such as <b>-c</b> or <b>-E</b>, the <i>c17</i> utility
shall cause the equivalent of a <b>-l&nbsp;c</b> option to be passed to the link editor after the last <i>pathname</i> operand or
<b>-l</b> option, causing it to be searched after all other object files and libraries are loaded.</p>
<p>The libraries <b>c</b>, <b>l</b>, <b>m</b>, <b>pthread</b>, <b>rt</b>, <b>xnet</b>, and <b>y</b> shall be found as shared
libraries when specified as the option-argument to the <b>-l</b> option and may also be found as static libraries but, except for
the shared library version of the <b>c</b> library, need not exist as regular files. The implementation may accept as <b>-l</b>
option-arguments names of additional implementation-defined libraries that do not exist as regular files.</p>
<h5><a name="tag_20_11_13_02" id="tag_20_11_13_02"></a>External Symbols</h5>
<p>The C compiler and link editor shall support the significance of external symbols up to a length of at least 31 bytes; the
action taken upon encountering symbols exceeding the implementation-defined maximum symbol length is unspecified.</p>
<p>The compiler and link editor shall support a minimum of 4095 external identifiers in one translation unit. A diagnostic message
shall be written to the standard output if the implementation-defined limit is exceeded; other actions are unspecified.</p>
<h5><a name="tag_20_11_13_03" id="tag_20_11_13_03"></a>Header Search</h5>
<p>If a file with the same name as one of the standard headers defined in XBD <a href="../basedefs/V1_chap14.html#tag_14"><i>14.
Headers</i></a>, not provided as part of the implementation, is placed in any of the usual places that are searched by default for
headers, the results are unspecified.</p>
<h5><a name="tag_20_11_13_04" id="tag_20_11_13_04"></a>Programming Environments</h5>
<p>All implementations shall support one of the following programming environments as a default. Implementations may support more
than one of the following programming environments. Applications can use the _POSIX_V<i>n</i>_ILP* and _POSIX_V<i>n</i>_LP*
constants in <a href="../basedefs/unistd.h.html"><i>&lt;unistd.h&gt;</i></a>, and corresponding <a href=
"../functions/sysconf.html"><i>sysconf</i>()</a> and <a href="../utilities/getconf.html"><i>getconf</i></a> calls, to determine
which programming environments are supported.<br></p>
<p class="caption"><a name="tagtcjh_16" id="tagtcjh_16"></a> Table: Programming Environments: Type Sizes</p>
<center>
<table border="1" cellpadding="3" align="center">
<tr valign="top">
<th align="center">
<p class="tent"><b>Programming Environment <i>getconf</i> Name</b></p>
</th>
<th align="center">
<p class="tent"><b>Bits in int</b></p>
</th>
<th align="center">
<p class="tent"><b>Bits in long</b></p>
</th>
<th align="center">
<p class="tent"><b>Bits in all pointer types</b></p>
</th>
<th align="center">
<p class="tent"><b>Bits in off_t</b></p>
</th>
</tr>
<tr valign="top">
<td align="left">
<p class="tent">_POSIX_V8_ILP32_OFF32</p>
</td>
<td align="left">
<p class="tent">32</p>
</td>
<td align="left">
<p class="tent">32</p>
</td>
<td align="left">
<p class="tent">32</p>
</td>
<td align="left">
<p class="tent">32</p>
</td>
</tr>
<tr valign="top">
<td align="left">
<p class="tent">_POSIX_V8_ILP32_OFFBIG</p>
</td>
<td align="left">
<p class="tent">32</p>
</td>
<td align="left">
<p class="tent">32</p>
</td>
<td align="left">
<p class="tent">32</p>
</td>
<td align="left">
<p class="tent">&gt;=64</p>
</td>
</tr>
<tr valign="top">
<td align="left">
<p class="tent">_POSIX_V8_LP64_OFF64</p>
</td>
<td align="left">
<p class="tent">32</p>
</td>
<td align="left">
<p class="tent">64</p>
</td>
<td align="left">
<p class="tent">64</p>
</td>
<td align="left">
<p class="tent">64</p>
</td>
</tr>
<tr valign="top">
<td align="left">
<p class="tent">_POSIX_V8_LPBIG_OFFBIG</p>
</td>
<td align="left">
<p class="tent">&gt;=32</p>
</td>
<td align="left">
<p class="tent">&gt;=64</p>
</td>
<td align="left">
<p class="tent">&gt;=64</p>
</td>
<td align="left">
<p class="tent">&gt;=64</p>
</td>
</tr>
</table>
</center>
<p class="tent">All implementations shall support one or more environments where the widths of the following types are no greater
than the width of type <b>long</b>:</p>
<center>
<table cellpadding="3" align="center">
<tr valign="top">
<td align="left">
<p class="tent"><b><br>
blksize_t<br>
cc_t<br>
mode_t<br>
nfds_t<br>
pid_t<br></b></p>
</td>
<td align="left">
<p class="tent"><b><br>
ptrdiff_t<br>
size_t<br>
speed_t<br>
ssize_t<br>
suseconds_t<br></b></p>
</td>
<td align="left">
<p class="tent"><b><br>
tcflag_t<br>
wchar_t<br>
wint_t<br></b></p>
</td>
</tr>
</table>
</center>
<p class="tent">The executable files created when these environments are selected shall be in a proper format for execution by the
<i>exec</i> family of functions. Each environment may be one of the ones in <a href="#tagtcjh_16">Programming Environments: Type
Sizes</a>, or it may be another environment. The names for the environments that meet this requirement shall be output by a
<a href="../utilities/getconf.html"><i>getconf</i></a> command using the POSIX_V8_WIDTH_RESTRICTED_ENVS argument, as a
&lt;newline&gt;-separated list of names suitable for use with the <a href="../utilities/getconf.html"><i>getconf</i></a> <b>-v</b>
option. If more than one environment meets the requirement, the names of all such environments shall be output on separate lines.
Any of these names can then be used in a subsequent <a href="../utilities/getconf.html"><i>getconf</i></a> command to obtain the
flags specific to that environment with the following suffixes added as appropriate:</p>
<dl compact>
<dd></dd>
<dt>_CFLAGS</dt>
<dd>To get the C compiler flags.</dd>
<dt>_LDFLAGS</dt>
<dd>To get the linker/loader flags.</dd>
<dt>_LIBS</dt>
<dd>To get the libraries.</dd>
</dl>
<p class="tent">This requirement may be removed in a future version.</p>
<p class="tent">When this utility processes a file containing a function called <i>main</i>(), it shall be defined with a return
type equivalent to <b>int</b>. Using return from the initial call to <i>main</i>() shall be equivalent (other than with respect to
language scope issues) to calling <a href="../functions/exit.html"><i>exit</i>()</a> with the returned value. Reaching the end of
the initial call to <i>main</i>() shall be equivalent to calling <i>exit</i>(0). The implementation shall not declare a prototype
for this function.</p>
<p class="tent">Implementations provide configuration strings for C compiler flags, linker/loader flags, and libraries for each
supported environment. When an application needs to use a specific programming environment rather than the implementation default
programming environment while compiling, the application shall first verify that the implementation supports the desired
environment. If the desired programming environment is supported, the application shall then invoke <i>c17</i> with the appropriate
C compiler flags as the first options for the compile, the appropriate linker/loader flags after any other options except <b>-l</b>
but before any operands or <b>-l</b> options, and the appropriate libraries at the end of the operands and <b>-l</b> options.</p>
<p class="tent">Conforming applications shall not attempt to link together object files compiled for different programming models.
Applications shall also be aware that binary data placed in shared memory or in files might not be recognized by applications built
for other programming models.<br></p>
<p class="caption">Table: Programming Environments: <i>c17</i> Arguments</p>
<center>
<table border="1" cellpadding="3" align="center">
<tr valign="top">
<th align="center">
<p class="tent"><b>Programming Environment <i>getconf</i> Name</b></p>
</th>
<th align="center">
<p class="tent"><b>Use</b></p>
</th>
<th align="center">
<p class="tent"><b><i>c17</i> Arguments <i>getconf</i> Name</b></p>
</th>
</tr>
<tr valign="top">
<td align="left">
<p class="tent">_POSIX_V8_ILP32_OFF32</p>
</td>
<td align="left">
<p class="tent">C Compiler Flags</p>
</td>
<td align="left">
<p class="tent">POSIX_V8_ILP32_OFF32_CFLAGS</p>
</td>
</tr>
<tr valign="top">
<td align="left">
<p class="tent">&nbsp;</p>
</td>
<td align="left">
<p class="tent">Linker/Loader Flags</p>
</td>
<td align="left">
<p class="tent">POSIX_V8_ILP32_OFF32_LDFLAGS</p>
</td>
</tr>
<tr valign="top">
<td align="left">
<p class="tent">&nbsp;</p>
</td>
<td align="left">
<p class="tent">Libraries</p>
</td>
<td align="left">
<p class="tent">POSIX_V8_ILP32_OFF32_LIBS</p>
</td>
</tr>
<tr valign="top">
<td align="left">
<p class="tent">_POSIX_V8_ILP32_OFFBIG</p>
</td>
<td align="left">
<p class="tent">C Compiler Flags</p>
</td>
<td align="left">
<p class="tent">POSIX_V8_ILP32_OFFBIG_CFLAGS</p>
</td>
</tr>
<tr valign="top">
<td align="left">
<p class="tent">&nbsp;</p>
</td>
<td align="left">
<p class="tent">Linker/Loader Flags</p>
</td>
<td align="left">
<p class="tent">POSIX_V8_ILP32_OFFBIG_LDFLAGS</p>
</td>
</tr>
<tr valign="top">
<td align="left">
<p class="tent">&nbsp;</p>
</td>
<td align="left">
<p class="tent">Libraries</p>
</td>
<td align="left">
<p class="tent">POSIX_V8_ILP32_OFFBIG_LIBS</p>
</td>
</tr>
<tr valign="top">
<td align="left">
<p class="tent">_POSIX_V8_LP64_OFF64</p>
</td>
<td align="left">
<p class="tent">C Compiler Flags</p>
</td>
<td align="left">
<p class="tent">POSIX_V8_LP64_OFF64_CFLAGS</p>
</td>
</tr>
<tr valign="top">
<td align="left">
<p class="tent">&nbsp;</p>
</td>
<td align="left">
<p class="tent">Linker/Loader Flags</p>
</td>
<td align="left">
<p class="tent">POSIX_V8_LP64_OFF64_LDFLAGS</p>
</td>
</tr>
<tr valign="top">
<td align="left">
<p class="tent">&nbsp;</p>
</td>
<td align="left">
<p class="tent">Libraries</p>
</td>
<td align="left">
<p class="tent">POSIX_V8_LP64_OFF64_LIBS</p>
</td>
</tr>
<tr valign="top">
<td align="left">
<p class="tent">_POSIX_V8_LPBIG_OFFBIG</p>
</td>
<td align="left">
<p class="tent">C Compiler Flags</p>
</td>
<td align="left">
<p class="tent">POSIX_V8_LPBIG_OFFBIG_CFLAGS</p>
</td>
</tr>
<tr valign="top">
<td align="left">
<p class="tent">&nbsp;</p>
</td>
<td align="left">
<p class="tent">Linker/Loader Flags</p>
</td>
<td align="left">
<p class="tent">POSIX_V8_LPBIG_OFFBIG_LDFLAGS</p>
</td>
</tr>
<tr valign="top">
<td align="left">
<p class="tent">&nbsp;</p>
</td>
<td align="left">
<p class="tent">Libraries</p>
</td>
<td align="left">
<p class="tent">POSIX_V8_LPBIG_OFFBIG_LIBS</p>
</td>
</tr>
</table>
</center>
<p class="tent">In addition to the type size programming environments above, all implementations also support a multi-threaded
programming environment that is orthogonal to all of the programming environments listed above. The <a href=
"../utilities/getconf.html"><i>getconf</i></a> utility can be used to get flags for the threaded programming environment, as
indicated in <a href="#tagtcjh_16">Programming Environments: Type Sizes</a>.</p>
<p class="caption">Table: Threaded Programming Environment: <i>c17</i> Arguments</p>
<center>
<table border="1" cellpadding="3" align="center">
<tr valign="top">
<th align="center">
<p class="tent"><b>Programming Environment <i>getconf</i> Name</b></p>
</th>
<th align="center">
<p class="tent"><b>Use</b></p>
</th>
<th align="center">
<p class="tent"><b><i>c17</i> Arguments <i>getconf</i> Name</b></p>
</th>
</tr>
<tr valign="top">
<td align="left">
<p class="tent">_POSIX_THREADS</p>
</td>
<td align="left">
<p class="tent">C Compiler Flags</p>
</td>
<td align="left">
<p class="tent">POSIX_V8_THREADS_CFLAGS</p>
</td>
</tr>
<tr valign="top">
<td align="left">
<p class="tent">&nbsp;</p>
</td>
<td align="left">
<p class="tent">Linker/Loader Flags</p>
</td>
<td align="left">
<p class="tent">POSIX_V8_THREADS_LDFLAGS</p>
</td>
</tr>
</table>
</center>
<p class="tent">These programming environment flags may be used in conjunction with any of the type size programming environments
supported by the implementation.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_11_14" id="tag_20_11_14"></a>EXIT STATUS</h4>
<blockquote>
<p>The following exit values shall be returned:</p>
<dl compact>
<dd></dd>
<dt>&nbsp;0</dt>
<dd>Successful compilation or link edit.</dd>
<dt>&gt;0</dt>
<dd>An error occurred.</dd>
</dl>
</blockquote>
<h4 class="mansect"><a name="tag_20_11_15" id="tag_20_11_15"></a>CONSEQUENCES OF ERRORS</h4>
<blockquote>
<p>When <i>c17</i> encounters a compilation error that causes an object file not to be created, it shall write a diagnostic to
standard error and continue to compile other source code operands, but it shall not perform the link phase and it shall return a
non-zero exit status. If the link edit is unsuccessful, a diagnostic message shall be written to standard error and <i>c17</i>
exits with a non-zero status. A conforming application shall rely on the exit status of <i>c17</i>, rather than on the existence or
mode of the executable file.</p>
</blockquote>
<hr>
<div class="box"><em>The following sections are informative.</em></div>
<h4 class="mansect"><a name="tag_20_11_16" id="tag_20_11_16"></a>APPLICATION USAGE</h4>
<blockquote>
<p>Since the <i>c17</i> utility usually creates files in the current directory during the compilation process, it is typically
necessary to run the <i>c17</i> utility in a directory in which a file can be created.</p>
<p class="tent">On systems providing POSIX Conformance (see XBD <a href="../basedefs/V1_chap02.html#tag_02"><i>2.
Conformance</i></a>), <i>c17</i> is required only with the C-Language Development option; XSI-conformant systems always provide
<i>c17</i>.</p>
<p class="tent">Since this standard requires that conforming applications define either _POSIX_C_SOURCE or _XOPEN_SOURCE before
inclusion of any header (see XSH <a href="../functions/V2_chap02.html#tag_16_02_01"><i>2.2.1 POSIX.1 Symbols</i></a>), if
<i>c17</i> is used to compile source code that includes a header without defining one of these feature test macros in the required
manner, the behavior of <i>c17</i> itself and the results of using any files it generates are undefined. When <i>c17</i> is used
this way, implementations are encouraged to make visible in headers from the ISO&nbsp;C standard only the symbols that are allowed
by that standard, and otherwise to behave the same as if _POSIX_C_SOURCE or _XOPEN_SOURCE had been defined, but portable
applications cannot rely on this.</p>
<p class="tent">Some historical implementations have created <b>.o</b> files when <b>-c</b> is not specified and more than one
source file is given. Since this area is left unspecified, the application cannot rely on <b>.o</b> files being created, but it
also must be prepared for any related <b>.o</b> files that already exist being deleted at the completion of the link edit.</p>
<p class="tent">There is the possible implication that if a user supplies versions of the standard functions (before they would be
encountered by an implicit <b>-l&nbsp;c</b> or explicit <b>-l&nbsp;m</b>), that those versions would be used in place of the
standard versions. There are various reasons this might not be true (functions defined as macros, manipulations for clean name
space, and so on), so the existence of files named in the same manner as the standard libraries within the <b>-L</b> directories is
explicitly stated to produce unspecified behavior.</p>
<p class="tent">All of the functions specified in the System Interfaces volume of POSIX.1-2024 may be made visible by
implementations when the Standard C Library is searched. Conforming applications must explicitly request searching the other
standard libraries when functions made visible by those libraries are used.</p>
<p class="tent">In the ISO&nbsp;C standard the mapping from physical source characters to the C source character set is
implementation-defined. Implementations may strip white-space characters before the terminating &lt;newline&gt; of a (physical)
line as part of this mapping and, as a consequence of this, one or more white-space characters (and no other characters) between a
&lt;backslash&gt; character and the &lt;newline&gt; character that terminates the line produces implementation-defined results.
Portable applications should not use such constructs.</p>
<p class="tent">Some <i>c17</i> compilers not conforming to POSIX.1-2024 do not support trigraphs by default.</p>
<p class="tent">Implementations may support multiple programming environments with some of them conforming to this standard and
some not conforming. The _POSIX_V<i>n</i>_ILP* and _POSIX_V<i>n</i>_LP* constants in <a href=
"../basedefs/unistd.h.html"><i>&lt;unistd.h&gt;</i></a>, and corresponding <a href="../functions/sysconf.html"><i>sysconf</i>()</a>
and <a href="../utilities/getconf.html"><i>getconf</i></a> calls, only indicate whether each programming environment is supported;
they do not indicate anything about conformance of the environments that are supported. For example, an implementation may support
the ILP32_OFF32 environment for legacy reasons with a 32-bit <b>time_t</b>, whereas in a conforming environment <b>time_t</b> is
required to have a width of at least 64 bits. Application writers should consult an implementation's POSIX Conformance Document for
information about the conformance of each supported programming environment.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_11_17" id="tag_20_11_17"></a>EXAMPLES</h4>
<blockquote>
<ol>
<li class="tent">The following usage example compiles <b>foo.c</b> and creates the executable file <b>foo</b>:
<pre>
<tt>c17 -o foo foo.c
</tt></pre>
<p class="tent">The following usage example compiles <b>foo.c</b> and creates the object file <b>foo.o</b>:</p>
<pre>
<tt>c17 -c foo.c
</tt></pre>
<p class="tent">The following usage example compiles <b>foo.c</b> and creates the executable file <b>a.out</b>:</p>
<pre>
<tt>c17 foo.c
</tt></pre>
<p class="tent">The following usage example compiles <b>foo.c</b>, links it with <b>bar.o</b>, and creates the executable file
<b>a.out</b>. It may also create and leave <b>foo.o</b>:</p>
<pre>
<tt>c17 foo.c bar.o
</tt></pre>
<p class="tent">The following usage example preprocesses <b>foo.c</b> and <b>bar.c</b> to create <b>foo.i</b> and <b>bar.i</b>,
compiles <b>foo.i</b> and <b>bar.i</b> to create <b>foo.o</b> and <b>bar.o</b>, then links <b>foo.o</b> and <b>bar.o</b> to create
the executable file <b>foobar</b>. Each <i>c17</i> execution would ideally be invoked from a separate rule in a makefile (see
<a href="../utilities/make.html#"><i>make</i></a>) with suitable dependencies so that each is only executed when it needs to
be:</p>
<pre>
<tt>c17 -E foo.c &gt; foo.i
c17 -E bar.c &gt; bar.i
c17 -c foo.i
c17 -c bar.i
c17 -o foobar foo.o bar.o
</tt></pre></li>
<li class="tent">The following example shows how an application using threads interfaces can test for support of and use a
programming environment supporting 32-bit <b>int</b>, <b>long</b>, and all pointer types, and an <b>off_t</b> type using at least
64 bits:
<pre>
<tt>offbig_env=$(getconf _POSIX_V8_ILP32_OFFBIG)
if [ $offbig_env != "-1" ] &amp;& [ $offbig_env != "undefined" ]
then
    c17 $(getconf POSIX_V8_ILP32_OFFBIG_CFLAGS) \
    $(getconf POSIX_V8_THREADS_CFLAGS) -D_XOPEN_SOURCE=800 \
    $(getconf POSIX_V8_ILP32_OFFBIG_LDFLAGS) \
    $(getconf POSIX_V8_THREADS_LDFLAGS) foo.c -o foo \
    $(getconf POSIX_V8_ILP32_OFFBIG_LIBS) \
    -l pthread
else
    echo ILP32_OFFBIG programming environment not supported
    exit 1
fi
</tt></pre></li>
<li class="tent">The following examples clarify the use and interactions of <b>-L</b> and <b>-l</b> options.
<p class="tent">Consider the case in which module <b>a.c</b> calls function <i>f</i>() in library <b>libQ.a</b>, and module
<b>b.c</b> calls function <i>g</i>() in library <b>libp.a</b>. Assume that both libraries reside in <b>/a/b/c</b>. The command line
to compile and link in the desired way is:</p>
<pre>
<tt>c17 -L /a/b/c main.o a.c -l Q b.c -l p
</tt></pre>
<p class="tent">In this case the <b>-L</b> option need only precede the first <b>-l</b> option, since both <b>libQ.a</b> and
<b>libp.a</b> reside in the same directory.</p>
<p class="tent">Multiple <b>-L</b> options can be used when library name collisions occur. Building on the previous example,
suppose that the user wants to use a new <b>libp.a</b>, in <b>/a/a/a</b>, but still wants <i>f</i>() from <b>/a/b/c/libQ.a</b>:</p>
<pre>
<tt>c17 -L /a/a/a -L /a/b/c main.o a.c -l Q b.c -l p
</tt></pre>
<p class="tent">In this example, the linker searches the <b>-L</b> options in the order specified, and finds <b>/a/a/a/libp.a</b>
before <b>/a/b/c/libp.a</b> when resolving references for <b>b.c</b>. The order of the <b>-l</b> options is still important,
however.</p>
</li>
<li class="tent">The following example shows how an application can use a programming environment where the widths of the following
types: <b>blksize_t</b>, <b>cc_t</b>, <b>mode_t</b>, <b>nfds_t</b>, <b>pid_t</b>, <b>ptrdiff_t</b>, <b>size_t</b>, <b>speed_t</b>,
<b>ssize_t</b>, <b>suseconds_t</b>, <b>tcflag_t</b>, <b>wchar_t</b>, <b>wint_t</b>
<p class="tent">are no greater than the width of type <b>long</b>:</p>
<pre>
<tt># First choose one of the listed environments ...
<br class="tent">
# ... if there are no additional constraints, the first one will do:
CENV=$(getconf POSIX_V8_WIDTH_RESTRICTED_ENVS | head -n l)
<br class="tent">
# ... or, if an environment that supports large files is preferred,
# look for names that contain "OFF64" or "OFFBIG". (This chooses
# the last one in the list if none match.)
for CENV in $(getconf POSIX_V8_WIDTH_RESTRICTED_ENVS)
do
    case $CENV in
    *OFF64*|*OFFBIG*) break ;;
    esac
done
<br class="tent">
# The chosen environment name can now be used like this:
<br class="tent">
c17 $(getconf ${CENV}_CFLAGS) -D _POSIX_C_SOURCE=202405L \
$(getconf ${CENV}_LDFLAGS) foo.c -o foo \
$(getconf ${CENV}_LIBS)
</tt></pre></li>
<li class="tent">The following example shows how to create a shared library that does not depend on any other shared library:
<pre>
<tt>c17 -G -c foo.c bar.c
c17 -G -o foobar.so foo.o bar.o
</tt></pre></li>
<li class="tent">The following example shows how to create a dynamic executable that loads application specific shared libraries by
searching a specified list of directories when it is executed:
<pre>
<tt>c17 -G -c foo.c
c17 -G -o /path/to/dir1/foo.so foo.o
c17 -G -c bar.c
c17 -G -o /path/to/dir2/bar.so bar.o
c17 -B dynamic -L /path/to/dir1 -L /path/to/dir2 -R /path/to/dir1 \
    -R /path/to/dir2 -o foobar foobar.c -l foo -l bar
</tt></pre></li>
</ol>
</blockquote>
<h4 class="mansect"><a name="tag_20_11_18" id="tag_20_11_18"></a>RATIONALE</h4>
<blockquote>
<p>The <i>c17</i> utility is based on the <i>c89</i> utility originally introduced in the ISO&nbsp;POSIX-2:1993 standard.</p>
<p class="tent">Some of the changes from <i>c89</i> include the ability to intersperse options and operands (which many <i>c89</i>
implementations allowed despite it not being specified), the description of <b>-l</b> as an option instead of an operand, and the
modification to the contents of the Standard Libraries section to account for new headers and options; for example, <a href=
"../basedefs/spawn.h.html"><i>&lt;spawn.h&gt;</i></a> added to the description of <b>-l&nbsp;rt</b>.</p>
<p class="tent">POSIX.1-2024 specifies that the <i>c17</i> utility must be able to use regular files for <b>*.o</b> files and for
<b>a.out</b> files. Implementations are free to overwrite existing files of other types when attempting to create object files and
executable files, but are not required to do so. If something other than a regular file is specified and using it fails for any
reason, <i>c17</i> is required to issue a diagnostic message and exit with a non-zero exit status. But for some file types, the
problem may not be noticed for a long time. For example, if a FIFO named <b>a.out</b> exists in the current directory, <i>c17</i>
may attempt to open <b>a.out</b> and will hang in the <a href="../functions/open.html"><i>open</i>()</a> call until another process
opens the FIFO for reading. Then <i>c17</i> may write most of the <b>a.out</b> to the FIFO and fail when it tries to seek back
close to the start of the file to insert a timestamp (FIFOs are not seekable files). The <i>c17</i> utility is also allowed to
issue a diagnostic immediately if it encounters an <b>a.out</b> or <b>*.o</b> file that is not a regular file. For portable use,
applications should ensure that any <b>a.out</b>, <b>-o</b> option-argument, or <b>*.o</b> files corresponding to any <b>*.c</b>
files do not conflict with names already in use that are not regular files or symbolic links that point to regular files.</p>
<p class="tent">Commands of the form <tt>c17 -c -o ...</tt> are frequently used to directly place the <b>.o</b> file into an
alternative directory without a need to separately rename the output file. This helps to support concurrent compilations and out of
tree builds.</p>
<p class="tent">Some implementations allow <b>-c</b> <b>-o</b> <i>directory</i> to produce
<i>directory</i><b>/</b><i>file</i><b>.o</b> even when there is more than one input file; however, portable applications using
<b>-c</b> with <b>-o</b> must compile only one file at a time and must specify the final destination filename rather than a
directory.</p>
<p class="tent">The shared library version of the <b>c</b> library is required to exist as a regular file because the dynamic
linker needs to be able to load at least one library at execution time. Other standard shared libraries need not exist in their own
right if the interfaces the standard requires them to provide exist in the <b>c</b> library; all that is required is that they are
&quot;found&quot; when specified as <b>-l</b> option-arguments. Static versions of the standard libraries need not exist as regular files,
even if they are found as static libraries when specified as <b>-l</b> option-arguments.</p>
<p class="tent">On many systems, multi-threaded applications run in a programming environment that is distinct from that used by
single-threaded applications. This multi-threaded programming environment (in addition to needing to specify <b>-l pthread</b> at
link time) may require additional flags to be set when headers are processed at compile time (<b>-D_REENTRANT</b> being common).
This programming environment is orthogonal to the type size programming environments discussed above and listed in <a href=
"#tagtcjh_16">Programming Environments: Type Sizes</a>. This version of the standard adds <a href=
"../utilities/getconf.html"><i>getconf</i></a> utility calls to provide the C compiler flags and linker/loader flags needed to
support multi-threaded applications. Note that on a system where single-threaded applications are a special case of a
multi-threaded application, both of these <a href="../utilities/getconf.html"><i>getconf</i></a> calls may return NULL strings; on
other implementations both of these strings may be non-NULL strings.</p>
<p class="tent">The C standardization committee invented trigraphs (e.g., <tt>"??!"</tt> to represent <tt>'|'</tt>) to address
character portability problems in development environments based on national variants of the 7-bit ISO/IEC&nbsp;646:1991 standard
character set. However, these environments were already obsolete by the time the first ISO&nbsp;C standard was published, and in
practice trigraphs have not been used for their intended purpose, and usually are intended to have their original meaning in
K&amp;R C. For example, in practice a C-language source string like <tt>"What??!"</tt> is usually intended to end in two
&lt;question-mark&gt; characters and an &lt;exclamation-mark&gt;, not in <tt>'|'</tt>.</p>
<p class="tent">When the <b>-E</b> option is used, execution of some <b>#pragma</b> preprocessor directives may simply result in a
copy of the directive being included in the output as part of the allowed extra information used by subsequent compilation passes
(see STDOUT).</p>
<p class="tent">This standard requires that, when <b>-E</b> is used, lines beginning with <tt>'#'</tt> are output identifying the
files processed as a result of <b>#include</b> directives in order that <i>c17</i> <b>-E</b> can be used to generate makefile
dependencies. See <a href="../utilities/make.html#"><i>make</i></a>. Usually such lines are output each time the origin of the
subsequent lines in the output changes, and the line number after the <tt>'#'</tt> is the line number in the named file of the line
from which the next line in the output was derived.</p>
<p class="tent">When the <b>-R</b> option is not included when an executable file or shared library is being created, some
implementations use the environment variables <i>LD_RUN_PATH</i> and <i>LD_LIBRARY_PATH</i> to determine the directories to be
searched for shared libraries.</p>
<p class="tent">Some implementations permit place-holders preceded by a &lt;dollar-sign&gt; character (<tt>'$'</tt>), such as
$ORIGIN, in the <b>-R</b> directory option-argument to be evaluated at load time. Some implementations accept a colon separated
list of directories for the path to search for shared libraries, with the same effect as specifying the <b>-R</b> option multiple
times. However, these features are not universal.</p>
<p class="tent">The name of a shared library usually contains an element named <b>so</b>. Other implementation-defined elements are
allowed for backwards compatibility with historical systems, and so that tools can be developed on conforming systems to create
libraries for multiple environments. For example, Microsoft systems use the filename extension <b>.dll</b> (and do not allow
following text) to denote a shared library. The standard allows additional characters to be used in the name of a library following
an <b>so</b> element to permit shared library versioning information to be at the end of the library filename rather than requiring
that any such strings appear before the final element of the library name.</p>
<p class="tent">The decision to standardize on <b>so</b> as a required element in a shared library name was intentional, as the
alternative would have been standardizing things such as a new make macro $(SHLIB_EXT) that would otherwise be needed to write a
portable makefile that can compile shared libraries despite not having a standardized element name.</p>
<p class="tent">If a combination of direct and indirect dependencies of a shared library would require different versions of
another shared library, options that are not specified by the standard (such as <b>-B direct</b>) will probably need to be used
when linking that shared library, so that at runtime the intended versions are found.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_11_19" id="tag_20_11_19"></a>FUTURE DIRECTIONS</h4>
<blockquote>
<p>If this utility is directed to display a pathname that contains any bytes that have the encoded value of a &lt;newline&gt;
character when &lt;newline&gt; is a terminator or separator in the output format being used, implementations are encouraged to
treat this as an error. A future version of this standard may require implementations to treat this as an error.</p>
<p class="tent">If this utility is directed to create a new directory entry that contains any bytes that have the encoded value of
a &lt;newline&gt; character, implementations are encouraged to treat this as an error. A future version of this standard may
require implementations to treat this as an error.</p>
<p class="tent">Unlike all of the other non-OB-shaded utilities in this standard, a utility by this name probably will not appear
in the next version of this standard. This utility's name is tied to the current revision of the ISO&nbsp;C standard at the time
this standard is approved. Since the ISO&nbsp;C standard and this standard are maintained by different organizations on different
schedules, we cannot predict what the compiler will be named in the next version of the standard.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_11_20" id="tag_20_11_20"></a>SEE ALSO</h4>
<blockquote>
<p><a href="../utilities/V3_chap01.html#tag_18_01_01_04"><i>1.1.1.4 File Read, Write, and Creation</i></a>, <a href=
"../utilities/ar.html#"><i>ar</i></a>, <a href="../utilities/getconf.html#"><i>getconf</i></a>, <a href=
"../utilities/make.html#"><i>make</i></a>, <a href="../utilities/nm.html#"><i>nm</i></a>, <a href=
"../utilities/strip.html#"><i>strip</i></a>, <a href="../utilities/umask.html#tag_20_132"><i>umask</i></a></p>
<p class="tent">XBD <a href="../basedefs/V1_chap08.html#tag_08"><i>8. Environment Variables</i></a>, <a href=
"../basedefs/V1_chap12.html#tag_12_02"><i>12.2 Utility Syntax Guidelines</i></a>, <a href=
"../basedefs/V1_chap14.html#tag_14"><i>14. Headers</i></a></p>
<p class="tent">XSH <a href="../functions/exec.html#tag_17_129"><i>exec</i></a>, <a href=
"../functions/sysconf.html#"><i>sysconf</i>()</a></p>
</blockquote>
<h4 class="mansect"><a name="tag_20_11_21" id="tag_20_11_21"></a>CHANGE HISTORY</h4>
<blockquote>
<p>First released in Issue 8. Included for alignment with the ISO/IEC&nbsp;9899:2018 standard.</p>
</blockquote>
<div class="box"><em>End of informative text.</em></div>
<hr>
<p>&nbsp;</p>
<a href="#top"><span class="topOfPage">return to top of page</span></a><br>
<hr size="2" noshade>
<center><font size="2">UNIX® is a registered Trademark of The Open Group.<br>
POSIX™ is a Trademark of The IEEE.<br>
Copyright © 2001-2024 The IEEE and The Open Group, All Rights Reserved<br>
[ <a href="../mindex.html">Main Index</a> | <a href="../basedefs/contents.html">XBD</a> | <a href=
"../functions/contents.html">XSH</a> | <a href="../utilities/contents.html">XCU</a> | <a href="../xrat/contents.html">XRAT</a>
]</font></center>
<hr size="2" noshade>
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../utilities/bg.html" accesskey="P">&lt;&lt;&lt;
Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../utilities/cal.html" accesskey="N">Next &gt;&gt;&gt;</a></td>
</tr>
</table>
<hr align="left" width="100%"></div>
</body>
</html>
