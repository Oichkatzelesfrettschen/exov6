<!-- Copyright 2001-2024 IEEE and The Open Group, All Rights Reserved -->
<!DOCTYPE HTML>
<html lang="en">
<head>
<meta name="generator" content="HTML Tidy for HTML5 for Linux version 5.8.0">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link type="text/css" rel="stylesheet" href="style.css"><!-- Generated by The Open Group rhtm tool v1.2.4 -->
<!-- Copyright (c) 2001-2024 The Open Group, All Rights Reserved -->
<title>getlocalename_l</title>
</head>
<body bgcolor="white">
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../functions/gethostname.html" accesskey="P">&lt;&lt;&lt;
Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../functions/getlogin.html" accesskey="N">Next
&gt;&gt;&gt;</a></td>
</tr>
</table>
<hr align="left" width="100%"></div>
<script language="JavaScript" src="../jscript/codes.js"></script><basefont size="3">
<center><font size="2">The Open Group Base Specifications Issue 8<br>
IEEE Std 1003.1-2024<br>
Copyright © 2001-2024 The IEEE and The Open Group</font></center>
<hr size="2" noshade>
<a name="top" id="top"></a> <a name="getlocalename_l" id="getlocalename_l"></a> <a name="tag_17_218" id="tag_17_218"></a>
<!-- getlocalename_l -->
<h4 class="mansect"><a name="tag_17_218_01" id="tag_17_218_01"></a>NAME</h4>
<blockquote>getlocalename_l — get a locale name from a locale object</blockquote>
<h4 class="mansect"><a name="tag_17_218_02" id="tag_17_218_02"></a>SYNOPSIS</h4>
<blockquote class="synopsis">
<div class="box"><code><tt><sup>[<a href="javascript:open_code('CX')">CX</a>]</sup> <img src="../images/opt-start.gif" alt=
"[Option Start]" border="0"> #include &lt;<a href="../basedefs/locale.h.html">locale.h</a>&gt;<br>
<br>
const char *getlocalename_l(int</tt> <i>category</i><tt>, locale_t</tt> <i>locobj</i><tt>); <img src="../images/opt-end.gif" alt=
"[Option End]" border="0"></tt></code></div>
<tt><br></tt></blockquote>
<h4 class="mansect"><a name="tag_17_218_03" id="tag_17_218_03"></a>DESCRIPTION</h4>
<blockquote>
<p>If <i>category</i> is not LC_ALL, the <i>getlocalename_l</i>() function shall return the locale name for the given locale
category of the locale object <i>locobj</i>, or of the global locale if <i>locobj</i> is the special locale object
LC_GLOBAL_LOCALE.</p>
<p>If <i>category</i> is LC_ALL, the <i>getlocalename_l</i>() function shall return a string that encodes the locale settings for
all locale categories of the locale object <i>locobj</i>, or of the global locale if <i>locobj</i> is the special locale object
LC_GLOBAL_LOCALE, in the same form as is returned by <a href="../functions/setlocale.html"><i>setlocale</i>()</a>. The string
returned is such that a subsequent call to <a href="../functions/setlocale.html"><i>setlocale</i>()</a>, from the same process,
with a pointer to that string as <i>locale</i> and the LC_ALL <i>category</i> shall set the global locale to the same locale for
each category as was present in the queried object.</p>
<p>If the value of the <i>category</i> argument is neither LC_ALL nor a supported locale category value (see <a href=
"../functions/setlocale.html#"><i>setlocale</i>()</a>), <i>getlocalename_l</i>() shall fail.</p>
<p>The behavior is undefined if the <i>locobj</i> argument is neither the special locale object LC_GLOBAL_LOCALE nor a valid locale
object handle.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_218_04" id="tag_17_218_04"></a>RETURN VALUE</h4>
<blockquote>
<p>Upon successful completion, <i>getlocalename_l</i>() shall return a pointer to a string; otherwise, a null pointer shall be
returned.</p>
<p>If <i>locobj</i> is LC_GLOBAL_LOCALE, the returned string pointer might be invalidated or the string content might be
overwritten by a subsequent call in the same thread to <i>getlocalename_l</i>() with LC_GLOBAL_LOCALE; the returned string pointer
might also be invalidated if the calling thread is terminated. Otherwise, the returned string pointer and content shall remain
valid until the locale object <i>locobj</i> is used in a call to <a href="../functions/freelocale.html"><i>freelocale</i>()</a> or
as the <i>base</i> argument in a successful call to <a href="../functions/newlocale.html"><i>newlocale</i>()</a>.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_218_05" id="tag_17_218_05"></a>ERRORS</h4>
<blockquote>
<p>No errors are defined.</p>
</blockquote>
<hr>
<div class="box"><em>The following sections are informative.</em></div>
<h4 class="mansect"><a name="tag_17_218_06" id="tag_17_218_06"></a>EXAMPLES</h4>
<blockquote>
<h5><a name="tag_17_218_06_01" id="tag_17_218_06_01"></a>Determining the locale name for a category of the current locale</h5>
<p>The following example shows how to obtain the locale name for the LC_NUMERIC category of the current thread-local locale, or of
the global locale if no thread-local locale is in use.</p>
<pre>
<tt>#include &lt;locale.h&gt;
...
const char *name;
locale_t loc = uselocale(NULL);
name = getlocalename_l(LC_NUMERIC, loc);
</tt></pre></blockquote>
<h4 class="mansect"><a name="tag_17_218_07" id="tag_17_218_07"></a>APPLICATION USAGE</h4>
<blockquote>
<p>In addition to the caveats regarding validity of the returned string pointer in RETURN VALUE, the content of the string returned
when <i>category</i> is LC_ALL is only required to be valid for the life of the process, so is not intended for storage or sharing
between processes. As the internal format of the string is implementation-specific, there is nothing preventing a subsequent run of
an application from being presented a different format, for example if the implementation is updated.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_218_08" id="tag_17_218_08"></a>RATIONALE</h4>
<blockquote>
<p>Historical versions of <i>getlocalename_l</i>() did not handle the special locale object LC_GLOBAL_LOCALE, requiring that
applications used <i>setlocale</i>(<i>category</i>, NULL) to query the global locale if <i>uselocale</i>(NULL) returned
LC_GLOBAL_LOCALE. However, since <a href="../functions/setlocale.html"><i>setlocale</i>()</a> is not required to be thread-safe
(even when the only concurrent calls are ones that query the locale), this method was problematic for multi-threaded processes.
This standard requires that <i>getlocalename_l</i>(<i>category</i>, LC_GLOBAL_LOCALE) queries the global locale in a thread-safe
manner, for example by returning a pointer to a thread-local internal buffer instead of a process-wide internal buffer.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_218_09" id="tag_17_218_09"></a>FUTURE DIRECTIONS</h4>
<blockquote>
<p>None.</p>
</blockquote>
<h4 class="mansect"><a name="tag_17_218_10" id="tag_17_218_10"></a>SEE ALSO</h4>
<blockquote>
<p><a href="../functions/freelocale.html#"><i>freelocale</i>()</a>, <a href="../functions/newlocale.html#"><i>newlocale</i>()</a>
, <a href="../functions/setlocale.html#"><i>setlocale</i>()</a>, <a href="../functions/uselocale.html#"><i>uselocale</i>()</a></p>
<p>XBD <a href="../basedefs/V1_chap07.html#tag_07"><i>7. Locale</i></a>, <a href=
"../basedefs/locale.h.html"><i>&lt;locale.h&gt;</i></a></p>
</blockquote>
<h4 class="mansect"><a name="tag_17_218_11" id="tag_17_218_11"></a>CHANGE HISTORY</h4>
<blockquote>
<p>First released in Issue 8.</p>
</blockquote>
<div class="box"><em>End of informative text.</em></div>
<hr>
<p>&nbsp;</p>
<a href="#top"><span class="topOfPage">return to top of page</span></a><br>
<hr size="2" noshade>
<center><font size="2">UNIX® is a registered Trademark of The Open Group.<br>
POSIX™ is a Trademark of The IEEE.<br>
Copyright © 2001-2024 The IEEE and The Open Group, All Rights Reserved<br>
[ <a href="../mindex.html">Main Index</a> | <a href="../basedefs/contents.html">XBD</a> | <a href=
"../functions/contents.html">XSH</a> | <a href="../utilities/contents.html">XCU</a> | <a href="../xrat/contents.html">XRAT</a>
]</font></center>
<hr size="2" noshade>
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../functions/gethostname.html" accesskey="P">&lt;&lt;&lt;
Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../functions/getlogin.html" accesskey="N">Next
&gt;&gt;&gt;</a></td>
</tr>
</table>
<hr align="left" width="100%"></div>
</body>
</html>
