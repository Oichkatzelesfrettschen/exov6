<!-- Copyright 2001-2024 IEEE and The Open Group, All Rights Reserved -->
<!DOCTYPE HTML>
<html lang="en">
<head>
<meta name="generator" content="HTML Tidy for HTML5 for Linux version 5.8.0">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link type="text/css" rel="stylesheet" href="style.css"><!-- Generated by The Open Group rhtm tool v1.2.4 -->
<!-- Copyright (c) 2001-2024 The Open Group, All Rights Reserved -->
<title>dirname</title>
</head>
<body bgcolor="white">
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../utilities/diff.html" accesskey="P">&lt;&lt;&lt;
Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../utilities/du.html" accesskey="N">Next &gt;&gt;&gt;</a></td>
</tr>
</table>
<hr align="left" width="100%"></div>
<script language="JavaScript" src="../jscript/codes.js"></script><basefont size="3">
<center><font size="2">The Open Group Base Specifications Issue 8<br>
IEEE Std 1003.1-2024<br>
Copyright © 2001-2024 The IEEE and The Open Group</font></center>
<hr size="2" noshade>
<a name="top" id="top"></a> <a name="dirname" id="dirname"></a> <a name="tag_20_35" id="tag_20_35"></a><!-- dirname -->
<h4 class="mansect"><a name="tag_20_35_01" id="tag_20_35_01"></a>NAME</h4>
<blockquote>dirname — return the directory portion of a pathname</blockquote>
<h4 class="mansect"><a name="tag_20_35_02" id="tag_20_35_02"></a>SYNOPSIS</h4>
<blockquote class="synopsis">
<p><code><tt>dirname</tt> <i>string</i></code></p>
</blockquote>
<h4 class="mansect"><a name="tag_20_35_03" id="tag_20_35_03"></a>DESCRIPTION</h4>
<blockquote>
<p>The <i>string</i> operand shall be treated as a pathname, as defined in XBD <a href=
"../basedefs/V1_chap03.html#tag_03_254"><i>3.254 Pathname</i></a>, and shall be converted to a pathname of the directory
containing the entry of the final pathname component. The resulting string shall be written to standard output. The <i>dirname</i>
utility shall not perform pathname resolution; the result shall not be affected by whether or not a file with the pathname
<i>string</i> exists or by its file type. Trailing <tt>'/'</tt> characters in <i>string</i> that are not also leading <tt>'/'</tt>
characters shall not be counted as part of the pathname. If the pathname does not contain a <tt>'/'</tt>, the resulting string
shall be <tt>"."</tt>. If <i>string</i> is an empty string, the resulting string shall be <tt>"."</tt>.</p>
<p>It is unspecified whether redundant <tt>'/'</tt> characters and <tt>'.'</tt> pathname components in <i>string</i> are removed
after determining the pathname to output. However, <tt>".."</tt> pathname components occurring prior to the final component shall
not be removed.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_35_04" id="tag_20_35_04"></a>OPTIONS</h4>
<blockquote>
<p>None.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_35_05" id="tag_20_35_05"></a>OPERANDS</h4>
<blockquote>
<p>The following operand shall be supported:</p>
<dl compact>
<dd></dd>
<dt><i>string</i></dt>
<dd>A string.</dd>
</dl>
</blockquote>
<h4 class="mansect"><a name="tag_20_35_06" id="tag_20_35_06"></a>STDIN</h4>
<blockquote>
<p>Not used.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_35_07" id="tag_20_35_07"></a>INPUT FILES</h4>
<blockquote>
<p>None.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_35_08" id="tag_20_35_08"></a>ENVIRONMENT VARIABLES</h4>
<blockquote>
<p>The following environment variables shall affect the execution of <i>dirname</i>:</p>
<dl compact>
<dd></dd>
<dt><i>LANG</i></dt>
<dd>Provide a default value for the internationalization variables that are unset or null. (See XBD <a href=
"../basedefs/V1_chap08.html#tag_08_02"><i>8.2 Internationalization Variables</i></a> for the precedence of internationalization
variables used to determine the values of locale categories.)</dd>
<dt><i>LC_ALL</i></dt>
<dd>If set to a non-empty string value, override the values of all the other internationalization variables.</dd>
<dt><i>LC_CTYPE</i></dt>
<dd>Determine the locale for the interpretation of sequences of bytes of text data as characters (for example, single-byte as
opposed to multi-byte characters in arguments).</dd>
<dt><i>LC_MESSAGES</i></dt>
<dd><br>
Determine the locale that should be used to affect the format and contents of diagnostic messages written to standard error.</dd>
<dt><i>NLSPATH</i></dt>
<dd><sup>[<a href="javascript:open_code('XSI')">XSI</a>]</sup> <img src="../images/opt-start.gif" alt="[Option Start]" border="0">
Determine the location of messages objects and message catalogs. <img src="../images/opt-end.gif" alt="[Option End]" border=
"0"></dd>
</dl>
</blockquote>
<h4 class="mansect"><a name="tag_20_35_09" id="tag_20_35_09"></a>ASYNCHRONOUS EVENTS</h4>
<blockquote>
<p>Default.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_35_10" id="tag_20_35_10"></a>STDOUT</h4>
<blockquote>
<p>The <i>dirname</i> utility shall write a line to the standard output in the following format:</p>
<pre>
<tt>"%s\n", &lt;</tt><i>resulting string</i><tt>&gt;
</tt></pre></blockquote>
<h4 class="mansect"><a name="tag_20_35_11" id="tag_20_35_11"></a>STDERR</h4>
<blockquote>
<p>The standard error shall be used only for diagnostic messages.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_35_12" id="tag_20_35_12"></a>OUTPUT FILES</h4>
<blockquote>
<p>None.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_35_13" id="tag_20_35_13"></a>EXTENDED DESCRIPTION</h4>
<blockquote>
<p>None.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_35_14" id="tag_20_35_14"></a>EXIT STATUS</h4>
<blockquote>
<p>The following exit values shall be returned:</p>
<dl compact>
<dd></dd>
<dt>&nbsp;0</dt>
<dd>Successful completion.</dd>
<dt>&gt;0</dt>
<dd>An error occurred.</dd>
</dl>
</blockquote>
<h4 class="mansect"><a name="tag_20_35_15" id="tag_20_35_15"></a>CONSEQUENCES OF ERRORS</h4>
<blockquote>
<p>Default.</p>
</blockquote>
<hr>
<div class="box"><em>The following sections are informative.</em></div>
<h4 class="mansect"><a name="tag_20_35_16" id="tag_20_35_16"></a>APPLICATION USAGE</h4>
<blockquote>
<p>The definition of <i>pathname</i> specifies implementation-defined behavior for pathnames starting with two &lt;slash&gt;
characters. Therefore, applications shall not arbitrarily add &lt;slash&gt; characters to the beginning of a pathname unless they
can ensure that there are more or less than two or are prepared to deal with the implementation-defined consequences.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_35_17" id="tag_20_35_17"></a>EXAMPLES</h4>
<blockquote>
<p>The EXAMPLES section of the <a href="../functions/basename.html"><i>basename</i>()</a> function (see XSH <a href=
"../functions/basename.html#tag_17_42"><i>basename</i>()</a>) includes a table showing examples of the results of processing
several sample pathnames by the <a href="../functions/basename.html"><i>basename</i>()</a> and <a href=
"../functions/dirname.html"><i>dirname</i>()</a> functions and by the <a href="../utilities/basename.html"><i>basename</i></a> and
<i>dirname</i> utilities.</p>
<p>See also the examples for the <a href="../utilities/basename.html"><i>basename</i></a> utility.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_35_18" id="tag_20_35_18"></a>RATIONALE</h4>
<blockquote>
<p>The behaviors of <a href="../utilities/basename.html"><i>basename</i></a> and <i>dirname</i> in this volume of POSIX.1-2024 have
been coordinated so that when <i>string</i> is a valid pathname:</p>
<pre>
<tt>$(basename -- "</tt><i>string</i><tt>")
</tt></pre>
<p>would be a valid filename for the file in the directory:</p>
<pre>
<tt>$(dirname -- "</tt><i>string</i><tt>")
</tt></pre>
<p>This would not work for the versions of these utilities in early proposals due to the way processing of trailing &lt;slash&gt;
characters was specified. Consideration was given to leaving processing unspecified if there were trailing &lt;slash&gt;
characters, but this cannot be done; XBD <a href="../basedefs/V1_chap03.html#tag_03_254"><i>3.254 Pathname</i></a> allows trailing
&lt;slash&gt; characters. The <a href="../utilities/basename.html"><i>basename</i></a> and <i>dirname</i> utilities have to specify
consistent handling for all valid pathnames.</p>
<p>The <i>dirname</i> utility is not specified in terms of the <a href="../functions/dirname.html"><i>dirname</i>()</a> function,
because the two may produce slightly different output where both output forms are still compliant. An implementation should prefer
the shortest output possible; however, this is not required, in part because earlier versions of the standard did not permit
elision of redundant &lt;slash&gt; characters or dot (<tt>'.'</tt>) components. Removal of the dot-dot (<tt>".."</tt>) pathname
component is not permitted, because eliding it correctly would require performing pathname resolution to ensure the resulting
string would still point to the correct pathname if the original string resolved as a pathname. On implementations where pathname
<tt>"//"</tt> has an implementation-defined meaning distinct from the pathname <tt>"/"</tt>, the dirname of <tt>"//"</tt> will be
<tt>"//"</tt>.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_35_19" id="tag_20_35_19"></a>FUTURE DIRECTIONS</h4>
<blockquote>
<p>If this utility is directed to display a pathname that contains any bytes that have the encoded value of a &lt;newline&gt;
character when &lt;newline&gt; is a terminator or separator in the output format being used, implementations are encouraged to
treat this as an error. A future version of this standard may require implementations to treat this as an error.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_35_20" id="tag_20_35_20"></a>SEE ALSO</h4>
<blockquote>
<p><a href="../utilities/V3_chap02.html#tag_19_05"><i>2.5 Parameters and Variables</i></a>, <a href=
"../utilities/basename.html#tag_20_07"><i>basename</i></a></p>
<p>XBD <a href="../basedefs/V1_chap03.html#tag_03_254"><i>3.254 Pathname</i></a>, <a href=
"../basedefs/V1_chap08.html#tag_08"><i>8. Environment Variables</i></a></p>
<p>XSH <a href="../functions/basename.html#tag_17_42"><i>basename</i>()</a>, <a href=
"../functions/dirname.html#tag_17_108"><i>dirname</i>()</a></p>
</blockquote>
<h4 class="mansect"><a name="tag_20_35_21" id="tag_20_35_21"></a>CHANGE HISTORY</h4>
<blockquote>
<p>First released in Issue 2.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_35_22" id="tag_20_35_22"></a>Issue 7</h4>
<blockquote>
<p>POSIX.1-2008, Technical Corrigendum 1, XCU/TC1-2008/0083 [192,430], XCU/TC1-2008/0084 [192], and XCU/TC1-2008/0085 [192] are
applied.</p>
<p>POSIX.1-2008, Technical Corrigendum 2, XCU/TC2-2008/0086 [612], XCU/TC2-2008/0087 [620], and XCU/TC2-2008/0088 [612] are
applied.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_35_23" id="tag_20_35_23"></a>Issue 8</h4>
<blockquote>
<p>Austin Group Defect 251 is applied, encouraging implementations to report an error if a utility is directed to display a
pathname that contains any bytes that have the encoded value of a &lt;newline&gt; character when &lt;newline&gt; is a terminator or
separator in the output format being used.</p>
<p>Austin Group Defect 1073 is applied, replacing the DESCRIPTION section with one that matches the <a href=
"../functions/dirname.html"><i>dirname</i>()</a> function.</p>
<p>Austin Group Defect 1122 is applied, changing the description of <i>NLSPATH .</i></p>
</blockquote>
<div class="box"><em>End of informative text.</em></div>
<hr>
<p>&nbsp;</p>
<a href="#top"><span class="topOfPage">return to top of page</span></a><br>
<hr size="2" noshade>
<center><font size="2">UNIX® is a registered Trademark of The Open Group.<br>
POSIX™ is a Trademark of The IEEE.<br>
Copyright © 2001-2024 The IEEE and The Open Group, All Rights Reserved<br>
[ <a href="../mindex.html">Main Index</a> | <a href="../basedefs/contents.html">XBD</a> | <a href=
"../functions/contents.html">XSH</a> | <a href="../utilities/contents.html">XCU</a> | <a href="../xrat/contents.html">XRAT</a>
]</font></center>
<hr size="2" noshade>
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../utilities/diff.html" accesskey="P">&lt;&lt;&lt;
Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../utilities/du.html" accesskey="N">Next &gt;&gt;&gt;</a></td>
</tr>
</table>
<hr align="left" width="100%"></div>
</body>
</html>
