<!-- Copyright 2001-2024 IEEE and The Open Group, All Rights Reserved -->
<!DOCTYPE HTML>
<html lang="en">
<head>
<meta name="generator" content="HTML Tidy for HTML5 for Linux version 5.8.0">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link type="text/css" rel="stylesheet" href="style.css"><!-- Generated by The Open Group rhtm tool v1.2.4 -->
<!-- Copyright (c) 2001-2024 The Open Group, All Rights Reserved -->
<title>timeout</title>
</head>
<body bgcolor="white">
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../utilities/time.html" accesskey="P">&lt;&lt;&lt;
Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../utilities/touch.html" accesskey="N">Next
&gt;&gt;&gt;</a></td>
</tr>
</table>
<hr align="left" width="100%"></div>
<script language="JavaScript" src="../jscript/codes.js"></script><basefont size="3">
<center><font size="2">The Open Group Base Specifications Issue 8<br>
IEEE Std 1003.1-2024<br>
Copyright © 2001-2024 The IEEE and The Open Group</font></center>
<hr size="2" noshade>
<a name="top" id="top"></a> <a name="timeout" id="timeout"></a> <a name="tag_20_123" id="tag_20_123"></a><!-- timeout -->
<h4 class="mansect"><a name="tag_20_123_01" id="tag_20_123_01"></a>NAME</h4>
<blockquote>timeout — execute a utility with a time limit</blockquote>
<h4 class="mansect"><a name="tag_20_123_02" id="tag_20_123_02"></a>SYNOPSIS</h4>
<blockquote class="synopsis">
<p><code><tt>timeout</tt> <b>[</b><tt>-fp</tt><b>] [</b><tt>-k</tt> <i>time</i><b>] [</b><tt>-s</tt> <i>signal_name</i><b>]</b>
<i>duration utility</i> <b>[</b><i>argument</i><tt>...</tt><b>]</b></code></p>
</blockquote>
<h4 class="mansect"><a name="tag_20_123_03" id="tag_20_123_03"></a>DESCRIPTION</h4>
<blockquote>
<p>The <i>timeout</i> utility shall execute the utility named by the <i>utility</i> operand, with arguments supplied as the
<i>argument</i> operands (if any), in a child process. If the value of the <i>duration</i> operand is non-zero and the child
process has not terminated after the specified time period, <i>timeout</i> shall send the signal specified by the <b>-s</b> option,
or the SIGTERM signal if <b>-s</b> is not given.</p>
<p>If the <b>-f</b> option is specified, the signal shall be sent only to the child process. Otherwise, it is implementation
defined which one of the following methods is used to signal additional processes:</p>
<ul>
<li>
<p>The <i>timeout</i> utility ensures it is a process group leader before creating the child process which executes the utility, in
which case it shall send the signal to its process group.</p>
</li>
<li>
<p>The <i>timeout</i> utility arranges for any descendants of the child process that are orphaned to have their parent process
changed to the <i>timeout</i> utility, in which case the signal shall be sent to the child process and all of its descendants.</p>
</li>
</ul>
<p>If the subsequent wait status of the child process shows that it was stopped by a signal, a SIGCONT signal shall also be sent in
the same manner as the first signal; otherwise, a SIGCONT signal may be sent in the same manner.</p>
<p>If the <b>-k</b> option is specified, and the child process created to execute the utility still has not terminated after the
time period specified by the <i>time</i> option-argument has elapsed since the first signal was sent, <i>timeout</i> shall send a
SIGKILL signal in the same manner as the first signal. If <i>timeout</i> receives a signal and propagates it to the child process
(see ASYNCHRONOUS EVENTS below), this shall be treated as the first signal.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_123_04" id="tag_20_123_04"></a>OPTIONS</h4>
<blockquote>
<p>The <i>timeout</i> utility shall conform to XBD <a href="../basedefs/V1_chap12.html#tag_12_02"><i>12.2 Utility Syntax
Guidelines</i></a>.</p>
<p>The following options shall be supported:</p>
<dl compact>
<dd></dd>
<dt><b>-f</b></dt>
<dd>Only time out the utility itself, not its descendants.</dd>
<dt><b>-k&nbsp;</b><i>time</i></dt>
<dd>Send a SIGKILL signal if the child process created to execute the utility has not terminated after the time period specified by
<i>time</i> has elapsed since the first signal was sent. The value of <i>time</i> shall be interpreted as specified for the
<i>duration</i> operand (see OPERANDS below).</dd>
<dt><b>-p</b></dt>
<dd>Always preserve (mimic) the wait status of the executed utility, even if the time limit was reached.</dd>
<dt><b>-s&nbsp;</b><i>signal_name</i></dt>
<dd><br>
Specify the signal to send when the time limit is reached, using one of the symbolic names defined in the <a href=
"../basedefs/signal.h.html"><i>&lt;signal.h&gt;</i></a> header. Values of <i>signal_name</i> shall be recognized in a
case-independent fashion, without the SIG prefix. By default, SIGTERM shall be sent.</dd>
</dl>
</blockquote>
<h4 class="mansect"><a name="tag_20_123_05" id="tag_20_123_05"></a>OPERANDS</h4>
<blockquote>
<p>The following operands shall be supported:</p>
<dl compact>
<dd></dd>
<dt><i>duration</i></dt>
<dd>The maximum amount of time to allow the utility to run, specified as a decimal number with an optional decimal fraction and an
optional suffix, which can be:<br>
<dl compact>
<dd></dd>
<dt><b>s</b></dt>
<dd>seconds</dd>
<dt><b>m</b></dt>
<dd>minutes</dd>
<dt><b>h</b></dt>
<dd>hours</dd>
<dt><b>d</b></dt>
<dd>days</dd>
</dl>
<p>If a decimal fraction is present, the application shall ensure that it is separated from the units by a &lt;period&gt;. If no
suffix is present, the value shall specify seconds.</p>
<p>If the value is zero, <i>timeout</i> shall not enforce a time limit.</p>
</dd>
<dt><i>utility</i></dt>
<dd>The name of a utility that is to be executed. If the <i>utility</i> operand names any of the special built-in utilities in
<a href="../utilities/V3_chap02.html#tag_19_15"><i>2.15 Special Built-In Utilities</i></a>, the results are undefined.</dd>
<dt><i>argument</i></dt>
<dd>Any string to be supplied as an argument when executing the utility named by the <i>utility</i> operand.</dd>
</dl>
</blockquote>
<h4 class="mansect"><a name="tag_20_123_06" id="tag_20_123_06"></a>STDIN</h4>
<blockquote>
<p>Not used.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_123_07" id="tag_20_123_07"></a>INPUT FILES</h4>
<blockquote>
<p>None.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_123_08" id="tag_20_123_08"></a>ENVIRONMENT VARIABLES</h4>
<blockquote>
<p>The following environment variables shall affect the execution of <i>timeout</i>:</p>
<dl compact>
<dd></dd>
<dt><i>LANG</i></dt>
<dd>Provide a default value for the internationalization variables that are unset or null. (See XBD <a href=
"../basedefs/V1_chap08.html#tag_08_02"><i>8.2 Internationalization Variables</i></a> for the precedence of internationalization
variables used to determine the values of locale categories.)</dd>
<dt><i>LC_ALL</i></dt>
<dd>If set to a non-empty string value, override the values of all the other internationalization variables.</dd>
<dt><i>LC_CTYPE</i></dt>
<dd>Determine the locale for the interpretation of sequences of bytes of text data as characters (for example, single-byte as
opposed to multi-byte characters in arguments and input files).</dd>
<dt><i>LC_MESSAGES</i></dt>
<dd><br>
Determine the locale that should be used to affect the format and contents of diagnostic messages written to standard error.</dd>
<dt><i>NLSPATH</i></dt>
<dd><sup>[<a href="javascript:open_code('XSI')">XSI</a>]</sup> <img src="../images/opt-start.gif" alt="[Option Start]" border="0">
Determine the location of messages objects and message catalogs. <img src="../images/opt-end.gif" alt="[Option End]" border=
"0"></dd>
<dt><i>PATH</i></dt>
<dd>Determine the search path that is used to locate the utility to be executed. See XBD <a href=
"../basedefs/V1_chap08.html#tag_08_03"><i>8.3 Other Environment Variables</i></a>.</dd>
</dl>
</blockquote>
<h4 class="mansect"><a name="tag_20_123_09" id="tag_20_123_09"></a>ASYNCHRONOUS EVENTS</h4>
<blockquote>
<p>The default behavior specified in <a href="../utilities/V3_chap01.html#tag_18_04"><i>1.4 Utility Description Defaults</i></a>
shall apply, except that:</p>
<ul>
<li>
<p>The <i>timeout</i> utility shall ignore SIGTTIN and SIGTTOU signals.</p>
</li>
<li>
<p>The <i>timeout</i> utility may alter the disposition of SIGALRM if the inherited disposition was for it to be ignored.</p>
</li>
<li>
<p>If the signal specified with the <b>-s</b> option, or any signal whose default action is to terminate the process, is delivered
to the <i>timeout</i> utility, then unless the signal is SIGKILL or SIGSTOP, the <i>timeout</i> utility shall immediately send the
same signal to the process or processes to which it would send a signal when the time limit is reached. If the delivered signal is
SIGALRM, <i>timeout</i> may behave as if the time limit had been reached instead of sending SIGALRM.</p>
</li>
<li>
<p>If the <b>-f</b> option is not specified, then if <i>timeout</i> sends a signal to its process group, it shall briefly change
the disposition of that signal to ignored while it sends the signal, so that it does not receive the signal itself.</p>
</li>
</ul>
<p>With the single exception of the signal specified with the <b>-s</b> option, or SIGTERM if <b>-s</b> is not used, all signal
dispositions inherited by the utility specified by the <i>utility</i> operand shall be the same as the disposition that
<i>timeout</i> inherited.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_123_10" id="tag_20_123_10"></a>STDOUT</h4>
<blockquote>
<p>Not used.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_123_11" id="tag_20_123_11"></a>STDERR</h4>
<blockquote>
<p>The standard error shall be used only for diagnostic messages.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_123_12" id="tag_20_123_12"></a>OUTPUT FILES</h4>
<blockquote>
<p>None.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_123_13" id="tag_20_123_13"></a>EXTENDED DESCRIPTION</h4>
<blockquote>
<p>None.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_123_14" id="tag_20_123_14"></a>EXIT STATUS</h4>
<blockquote>
<p>If the <b>-p</b> option is not specified and the time limit was reached:</p>
<ul>
<li>
<p>If the <b>-k</b> option was not specified or the utility terminated before the time period specified by the <i>time</i>
option-argument elapsed since the first signal was sent, the exit status shall be 124.</p>
</li>
<li>
<p>If the <b>-k</b> option was specified and the SIGKILL signal was sent, it is unspecified whether the exit status is 124 or the
behavior is as if the <b>-p</b> option was specified.</p>
</li>
</ul>
<p>Otherwise, if the executed utility terminated by exiting, the exit status of <i>timeout</i> shall be that of the utility; if the
utility was terminated by a signal, <i>timeout</i> shall terminate itself with the same signal while ensuring that a core image is
not created.</p>
<p>If an error occurs, the following exit values shall be returned:</p>
<dl compact>
<dd></dd>
<dt>125</dt>
<dd>An error other than the two described below occurred.</dd>
<dt>126</dt>
<dd>The utility specified by <i>utility</i> was found but could not be executed.</dd>
<dt>127</dt>
<dd>The utility specified by <i>utility</i> could not be found.</dd>
</dl>
</blockquote>
<h4 class="mansect"><a name="tag_20_123_15" id="tag_20_123_15"></a>CONSEQUENCES OF ERRORS</h4>
<blockquote>
<p>Default.</p>
</blockquote>
<hr>
<div class="box"><em>The following sections are informative.</em></div>
<h4 class="mansect"><a name="tag_20_123_16" id="tag_20_123_16"></a>APPLICATION USAGE</h4>
<blockquote>
<p>Unlike the <a href="../utilities/kill.html"><i>kill</i></a> utility, the <b>-s</b> option of <i>timeout</i> is not required to
accept the symbolic name 0 to represent signal value zero.</p>
<p>When the value of <i>duration</i> is zero, <i>timeout</i> does not time out the utility, but it does still perform signal
propagation (including to descendants of the utility if <b>-f</b> is not specified).</p>
<p>Regardless of locale, the &lt;period&gt; character (the decimal-point character of the POSIX locale) is the decimal-point
character recognized in the <i>duration</i> operand and the <i>time</i> option-argument.</p>
<p>The <a href="../utilities/command.html"><i>command</i></a>, <a href="../utilities/env.html"><i>env</i></a>, <a href=
"../utilities/nice.html"><i>nice</i></a>, <a href="../utilities/nohup.html"><i>nohup</i></a>, <a href=
"../utilities/time.html"><i>time</i></a>, <i>timeout</i>, and <a href="../utilities/xargs.html"><i>xargs</i></a> utilities have
been specified to use exit code 127 if a utility to be invoked cannot be found, so that applications can distinguish &quot;failure to
find a utility&quot; from &quot;invoked utility exited with an error indication&quot;. The value 127 was chosen because it is not commonly used
for other meanings; most utilities use small values for &quot;normal error conditions&quot; and the values above 128 can be confused with
termination due to receipt of a signal. The value 126 was chosen in a similar manner to indicate that the utility could be found,
but not invoked. Some scripts produce meaningful error messages differentiating the 126 and 127 cases. The distinction between exit
codes 126 and 127 is based on KornShell practice that uses 127 when all attempts to <i>exec</i> the utility fail with [ENOENT], and
uses 126 when any attempt to <i>exec</i> the utility fails for any other reason. The <i>timeout</i> utility extends these special
exit codes to 125 and 124, with the meanings described in EXIT STATUS. A <i>timeout</i> exit status below 124 can only result from
passing through the exit status of the executed utility.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_123_17" id="tag_20_123_17"></a>EXAMPLES</h4>
<blockquote>
<p>None.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_123_18" id="tag_20_123_18"></a>RATIONALE</h4>
<blockquote>
<p>Some <i>timeout</i> implementations make themselves a process group leader (when <b>-f</b> is not used) in order to be able to
send signals to descendants of the child process. However, using this method means that any descendants which change their process
group do not receive the signal. To ensure all descendants receive the signal, some implementations instead make use of a feature
whereby descendants that are orphaned have their parent process changed to the <i>timeout</i> utility—that is, <i>timeout</i>
becomes their &quot;reaper&quot;—together with the ability of a reaper to send a signal to all of its descendants.</p>
<p>Some historical <i>timeout</i> implementations exited with status 128+<i>signal_number</i> when the child process was terminated
by a signal before the time limit was reached (or when <b>-p</b> was used). This is reasonable when <i>timeout</i> is invoked from
a shell which sets $? to 128+<i>signal_number</i>, but not all shells do that. In particular, the KornShell sets $? to
256+<i>signal_number</i> and so an exit status of 128+<i>signal_number</i> from <i>timeout</i> would be misleading. In order to
avoid any possible ambiguity, this standard requires that <i>timeout</i> mimics the wait status of the child process by terminating
itself with the same signal. When it does this it needs to ensure that it does not create a core image, otherwise it could
overwrite one created by the invoked utility.</p>
<p>The <i>timeout</i> utility ignores SIGTTIN and SIGTTOU so that if the utility it executes reads from or writes to the
controlling terminal and this generates a SIGTTIN or SIGTTOU for the process group, <i>timeout</i> will not be stopped by the
signal and can still time out the utility.</p>
<p>Some historical <i>timeout</i> implementations always set the disposition for SIGTTIN and SIGTTOU in the child process to
default, even if these signals were inherited as ignored. This could result in processes being stopped unexpectedly. Likewise, they
did not ensure that for signals they caught, the disposition inherited by the executed utility was the same as the disposition that
was inherited by <i>timeout</i>. This meant that, for example, if <i>timeout</i> was used in a script that was run with <a href=
"../utilities/nohup.html"><i>nohup</i></a>, the utility executed by <i>timeout</i> would unexpectedly not be protected from SIGHUP.
This standard requires that all signal dispositions inherited by the utility specified by the <i>utility</i> operand are the same
as the disposition that <i>timeout</i> inherited, with the single exception of the signal that <i>timeout</i> sends when the time
limit is reached, which needs to be inherited as default in order for the timeout to take effect (without resorting to SIGKILL if
<b>-k</b> is specified).</p>
<p>Some historical <i>timeout</i> implementations only propagated a subset of the signals whose default action is to terminate the
process to the child process if one was delivered to the <i>timeout</i> utility. Propagating these signals is beneficial, as
otherwise termination of the <i>timeout</i> utility by a signal results in the utility it executed being left running indefinitely
(unless it also received the signal, for example a terminal-generated SIGINT). There is no reason to select a subset of these
signals to be propagated, therefore this standard requires them all to be propagated (except SIGKILL, which cannot). In the event
that a user wants to prevent the utility being timed out, sending <i>timeout</i> a SIGKILL can be used for this purpose.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_123_19" id="tag_20_123_19"></a>FUTURE DIRECTIONS</h4>
<blockquote>
<p>None.</p>
</blockquote>
<h4 class="mansect"><a name="tag_20_123_20" id="tag_20_123_20"></a>SEE ALSO</h4>
<blockquote>
<p><a href="../utilities/kill.html#tag_20_64"><i>kill</i></a></p>
<p>XBD <a href="../basedefs/V1_chap08.html#tag_08"><i>8. Environment Variables</i></a>, <a href=
"../basedefs/V1_chap12.html#tag_12_02"><i>12.2 Utility Syntax Guidelines</i></a>, <a href=
"../basedefs/signal.h.html"><i>&lt;signal.h&gt;</i></a></p>
</blockquote>
<h4 class="mansect"><a name="tag_20_123_21" id="tag_20_123_21"></a>CHANGE HISTORY</h4>
<blockquote>
<p>First released in Issue 8.</p>
</blockquote>
<div class="box"><em>End of informative text.</em></div>
<hr>
<p>&nbsp;</p>
<a href="#top"><span class="topOfPage">return to top of page</span></a><br>
<hr size="2" noshade>
<center><font size="2">UNIX® is a registered Trademark of The Open Group.<br>
POSIX™ is a Trademark of The IEEE.<br>
Copyright © 2001-2024 The IEEE and The Open Group, All Rights Reserved<br>
[ <a href="../mindex.html">Main Index</a> | <a href="../basedefs/contents.html">XBD</a> | <a href=
"../functions/contents.html">XSH</a> | <a href="../utilities/contents.html">XCU</a> | <a href="../xrat/contents.html">XRAT</a>
]</font></center>
<hr size="2" noshade>
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../utilities/time.html" accesskey="P">&lt;&lt;&lt;
Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../utilities/touch.html" accesskey="N">Next
&gt;&gt;&gt;</a></td>
</tr>
</table>
<hr align="left" width="100%"></div>
</body>
</html>
